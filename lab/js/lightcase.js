!function(t){"use strict";var e={cache:{},support:{},objects:{},init:function(e){return this.each(function(){t(this).unbind("click.lightcase").bind("click.lightcase",function(i){i.preventDefault(),t(this).lightcase("start",e)})})},start:function(i){e.origin=lightcase.origin=this,e.settings=lightcase.settings=t.extend(!0,{idPrefix:"lightcase-",classPrefix:"lightcase-",attrPrefix:"lc-",transition:"elastic",transitionOpen:null,transitionClose:null,transitionIn:null,transitionOut:null,cssTransitions:!0,speedIn:250,speedOut:250,width:null,height:null,maxWidth:800,maxHeight:500,forceWidth:!1,forceHeight:!1,liveResize:!0,fullScreenModeForMobile:!0,mobileMatchExpression:/(iphone|ipod|ipad|android|blackberry|symbian)/,disableShrink:!1,fixedRatio:!0,shrinkFactor:.75,overlayOpacity:.9,slideshow:!1,slideshowAutoStart:!0,breakBeforeShow:!1,timeout:5e3,swipe:!0,useKeys:!0,useCategories:!0,useAsCollection:!1,navigateEndless:!0,closeOnOverlayClick:!0,title:null,caption:null,showTitle:!0,showCaption:!0,showSequenceInfo:!0,inline:{width:"auto",height:"auto"},ajax:{width:"auto",height:"auto",type:"get",dataType:"html",data:{}},iframe:{width:800,height:500,frameborder:0},flash:{width:400,height:205,wmode:"transparent"},video:{width:400,height:225,poster:"",preload:"auto",controls:!0,autobuffer:!0,autoplay:!0,loop:!1},attr:"data-rel",href:null,type:null,typeMapping:{image:"jpg,jpeg,gif,png,bmp",flash:"swf",video:"mp4,mov,ogv,ogg,webm",iframe:"html,php",ajax:"json,txt",inline:"#"},errorMessage:function(){return'<p class="'+e.settings.classPrefix+'error">'+e.settings.labels.errorMessage+"</p>"},labels:{errorMessage:"Source could not be found...","sequenceInfo.of":" of ",close:"Close","navigator.prev":"Prev","navigator.next":"Next","navigator.play":"Play","navigator.pause":"Pause"},markup:function(){e.objects.body.append(e.objects.overlay=t('<div id="'+e.settings.idPrefix+'overlay"></div>'),e.objects.loading=t('<div id="'+e.settings.idPrefix+'loading" class="'+e.settings.classPrefix+'icon-spin"></div>'),e.objects["case"]=t('<div id="'+e.settings.idPrefix+'case" aria-hidden="true" role="dialog"></div>')),e.objects["case"].after(e.objects.close=t('<a href="#" class="'+e.settings.classPrefix+'icon-close"><span>'+e.settings.labels.close+"</span></a>"),e.objects.nav=t('<div id="'+e.settings.idPrefix+'nav"></div>')),e.objects.nav.append(e.objects.prev=t('<a href="#" class="'+e.settings.classPrefix+'icon-prev"><span>'+e.settings.labels["navigator.prev"]+"</span></a>").hide(),e.objects.next=t('<a href="#" class="'+e.settings.classPrefix+'icon-next"><span>'+e.settings.labels["navigator.next"]+"</span></a>").hide(),e.objects.play=t('<a href="#" class="'+e.settings.classPrefix+'icon-play"><span>'+e.settings.labels["navigator.play"]+"</span></a>").hide(),e.objects.pause=t('<a href="#" class="'+e.settings.classPrefix+'icon-pause"><span>'+e.settings.labels["navigator.pause"]+"</span></a>").hide()),e.objects["case"].append(e.objects.content=t('<div id="'+e.settings.idPrefix+'content"></div>'),e.objects.info=t('<div id="'+e.settings.idPrefix+'info"></div>')),e.objects.content.append(e.objects.contentInner=t('<div class="'+e.settings.classPrefix+'contentInner"></div>')),e.objects.info.append(e.objects.sequenceInfo=t('<div id="'+e.settings.idPrefix+'sequenceInfo"></div>'),e.objects.title=t('<h4 id="'+e.settings.idPrefix+'title"></h4>'),e.objects.caption=t('<p id="'+e.settings.idPrefix+'caption"></p>'))},onInit:{},onStart:{},onBeforeCalculateDimensions:{},onAfterCalculateDimensions:{},onBeforeShow:{},onFinish:{},onResize:{},onClose:{},onCleanup:{}},i,e.origin.data?e.origin.data("lc-options"):{}),e.objects.document=t("html"),e.objects.body=t("body"),e._callHooks(e.settings.onInit),e.objectData=e._setObjectData(this),e._addElements(),e._open(),e.dimensions=e.getViewportDimensions()},get:function(t){return e.objects[t]},getObjectData:function(){return e.objectData},_setObjectData:function(i){var s=t(i),n={"this":t(i),title:e.settings.title||s.attr(e._prefixAttributeName("title"))||s.attr("title"),caption:e.settings.caption||s.attr(e._prefixAttributeName("caption"))||s.children("img").attr("alt"),url:e._determineUrl(),requestType:e.settings.ajax.type,requestData:e.settings.ajax.data,requestDataType:e.settings.ajax.dataType,rel:s.attr(e._determineAttributeSelector()),type:e.settings.type||e._verifyDataType(e._determineUrl()),isPartOfSequence:e.settings.useAsCollection||e._isPartOfSequence(s.attr(e.settings.attr),":"),isPartOfSequenceWithSlideshow:e._isPartOfSequence(s.attr(e.settings.attr),":slideshow"),currentIndex:t(e._determineAttributeSelector()).index(s),sequenceLength:t(e._determineAttributeSelector()).length};return n.sequenceInfo=n.currentIndex+1+e.settings.labels["sequenceInfo.of"]+n.sequenceLength,n.prevIndex=n.currentIndex-1,n.nextIndex=n.currentIndex+1,n},_prefixAttributeName:function(t){return"data-"+e.settings.attrPrefix+t},_determineLinkTarget:function(){return e.settings.href||t(e.origin).attr(e._prefixAttributeName("href"))||t(e.origin).attr("href")},_determineAttributeSelector:function(){var i=t(e.origin),s="";if("undefined"!=typeof e.cache.selector)s=e.cache.selector;else if(e.settings.useCategories===!0&&i.attr(e._prefixAttributeName("categories"))){var n=i.attr(e._prefixAttributeName("categories")).split(" ");t.each(n,function(t,i){t>0&&(s+=","),s+="["+e._prefixAttributeName("categories")+'~="'+i+'"]'})}else s="["+e.settings.attr+'="'+i.attr(e.settings.attr)+'"]';return e.cache.selector=s,s},_determineUrl:function(){var i,s=e._verifyDataUrl(e._determineLinkTarget()),n=0,a=0,o="";return t.each(s,function(t,s){switch(e._verifyDataType(s.url)){case"video":var c=document.createElement("video"),r=e._verifyDataType(s.url)+"/"+e._getFileUrlSuffix(s.url);"probably"!==o&&o!==c.canPlayType(r)&&""!==c.canPlayType(r)&&(o=c.canPlayType(r),i=s.url);break;default:e._devicePixelRatio()>=s.density&&s.density>=a&&e._matchMedia()("screen and (min-width:"+s.width+"px)").matches&&s.width>=n&&(n=s.width,a=s.density,i=s.url)}}),i},_normalizeUrl:function(t){var e=/^\d+$/;return t.split(",").map(function(t){var i={width:0,density:0};return t.trim().split(/\s+/).forEach(function(t,s){if(0===s)return i.url=t;var n=t.substring(0,t.length-1),a=t[t.length-1],o=parseInt(n,10),c=parseFloat(n);"w"===a&&e.test(n)?i.width=o:"h"===a&&e.test(n)?i.height=o:"x"!==a||isNaN(c)||(i.density=c)}),i})},_isPartOfSequence:function(i,s){var n=t("["+e.settings.attr+'="'+i+'"]'),a=new RegExp(s);return a.test(i)&&n.length>1},isSlideshowEnabled:function(){return e.objectData.isPartOfSequence&&(e.settings.slideshow===!0||e.objectData.isPartOfSequenceWithSlideshow===!0)},_loadContent:function(){e.cache.originalObject&&e._restoreObject(),e._createObject()},_createObject:function(){var i;switch(e.objectData.type){case"image":i=t(new Image),i.attr({src:e.objectData.url,alt:e.objectData.title});break;case"inline":i=t('<div class="'+e.settings.classPrefix+'inlineWrap"></div>'),i.html(e._cloneObject(t(e.objectData.url))),t.each(e.settings.inline,function(t,s){i.attr(e._prefixAttributeName(t),s)});break;case"ajax":i=t('<div class="'+e.settings.classPrefix+'inlineWrap"></div>'),t.each(e.settings.ajax,function(t,s){"data"!==t&&i.attr(e._prefixAttributeName(t),s)});break;case"flash":i=t('<embed src="'+e.objectData.url+'" type="application/x-shockwave-flash"></embed>'),t.each(e.settings.flash,function(t,e){i.attr(t,e)});break;case"video":i=t("<video></video>"),i.attr("src",e.objectData.url),t.each(e.settings.video,function(t,e){i.attr(t,e)});break;default:i=t("<iframe></iframe>"),i.attr({src:e.objectData.url}),t.each(e.settings.iframe,function(t,e){i.attr(t,e)})}e._addObject(i),e._loadObject(i)},_addObject:function(t){e.objects.contentInner.html(t),e._loading("start"),e._callHooks(e.settings.onStart),e.settings.showSequenceInfo===!0&&e.objectData.isPartOfSequence?(e.objects.sequenceInfo.html(e.objectData.sequenceInfo),e.objects.sequenceInfo.show()):(e.objects.sequenceInfo.empty(),e.objects.sequenceInfo.hide()),e.settings.showTitle===!0&&void 0!==e.objectData.title&&""!==e.objectData.title?(e.objects.title.html(e.objectData.title),e.objects.title.show()):(e.objects.title.empty(),e.objects.title.hide()),e.settings.showCaption===!0&&void 0!==e.objectData.caption&&""!==e.objectData.caption?(e.objects.caption.html(e.objectData.caption),e.objects.caption.show()):(e.objects.caption.empty(),e.objects.caption.hide())},_loadObject:function(i){switch(e.objectData.type){case"inline":t(e.objectData.url)?e._showContent(i):e.error();break;case"ajax":t.ajax(t.extend({},e.settings.ajax,{url:e.objectData.url,type:e.objectData.requestType,dataType:e.objectData.requestDataType,data:e.objectData.requestData,success:function(t,s,n){n.getResponseHeader("X-Ajax-Location")?(e.objectData.url=n.getResponseHeader("X-Ajax-Location"),e._loadObject(i)):("json"===e.objectData.requestDataType?e.objectData.data=t:i.html(t),e._showContent(i))},error:function(t,i,s){e.error()}}));break;case"flash":e._showContent(i);break;case"video":"function"==typeof i.get(0).canPlayType||0===e.objects["case"].find("video").length?e._showContent(i):e.error();break;default:e.objectData.url?(i.on("load",function(){e._showContent(i)}),i.on("error",function(){e.error()})):e.error()}},error:function(){e.objectData.type="error";var i=t('<div class="'+e.settings.classPrefix+'inlineWrap"></div>');i.html(e.settings.errorMessage),e.objects.contentInner.html(i),e._showContent(e.objects.contentInner)},_calculateDimensions:function(t){if(e._cleanupDimensions(),t){var i={ratio:1,objectWidth:t.attr("width")?t.attr("width"):t.attr(e._prefixAttributeName("width")),objectHeight:t.attr("height")?t.attr("height"):t.attr(e._prefixAttributeName("height"))};if(!e.settings.disableShrink)switch(i.maxWidth=parseInt(e.dimensions.windowWidth*e.settings.shrinkFactor),i.maxHeight=parseInt(e.dimensions.windowHeight*e.settings.shrinkFactor),i.maxWidth>e.settings.maxWidth&&(i.maxWidth=e.settings.maxWidth),i.maxHeight>e.settings.maxHeight&&(i.maxHeight=e.settings.maxHeight),i.differenceWidthAsPercent=parseInt(100/i.maxWidth*i.objectWidth),i.differenceHeightAsPercent=parseInt(100/i.maxHeight*i.objectHeight),e.objectData.type){case"image":case"flash":case"video":case"iframe":case"ajax":case"inline":if("image"===e.objectData.type||e.settings.fixedRatio===!0){i.differenceWidthAsPercent>100&&i.differenceWidthAsPercent>i.differenceHeightAsPercent&&(i.objectWidth=i.maxWidth,i.objectHeight=parseInt(i.objectHeight/i.differenceWidthAsPercent*100)),i.differenceHeightAsPercent>100&&i.differenceHeightAsPercent>i.differenceWidthAsPercent&&(i.objectWidth=parseInt(i.objectWidth/i.differenceHeightAsPercent*100),i.objectHeight=i.maxHeight),i.differenceHeightAsPercent>100&&i.differenceWidthAsPercent<i.differenceHeightAsPercent&&(i.objectWidth=parseInt(i.maxWidth/i.differenceHeightAsPercent*i.differenceWidthAsPercent),i.objectHeight=i.maxHeight);break}case"error":!isNaN(i.objectWidth)&&i.objectWidth>i.maxWidth&&(i.objectWidth=i.maxWidth);break;default:(isNaN(i.objectWidth)||i.objectWidth>i.maxWidth)&&!e.settings.forceWidth&&(i.objectWidth=i.maxWidth),(isNaN(i.objectHeight)&&"auto"!==i.objectHeight||i.objectHeight>i.maxHeight)&&!e.settings.forceHeight&&(i.objectHeight=i.maxHeight)}if(e.settings.forceWidth){try{i.objectWidth=e.settings[e.objectData.type].width}catch(s){i.objectWidth=e.settings.width||i.objectWidth}i.maxWidth=null}if(t.attr(e._prefixAttributeName("max-width"))&&(i.maxWidth=t.attr(e._prefixAttributeName("max-width"))),e.settings.forceHeight){try{i.objectHeight=e.settings[e.objectData.type].height}catch(s){i.objectHeight=e.settings.height||i.objectHeight}i.maxHeight=null}t.attr(e._prefixAttributeName("max-height"))&&(i.maxHeight=t.attr(e._prefixAttributeName("max-height"))),e._adjustDimensions(t,i)}},_adjustDimensions:function(t,i){t.css({width:i.objectWidth,height:i.objectHeight,"max-width":i.maxWidth,"max-height":i.maxHeight}),e.objects.contentInner.css({width:t.outerWidth(),height:t.outerHeight(),"max-width":"100%"}),e.objects["case"].css({width:e.objects.contentInner.outerWidth(),"max-width":"100%"}),e.objects["case"].css({"margin-top":parseInt(-(e.objects["case"].outerHeight()/2)),"margin-left":parseInt(-(e.objects["case"].outerWidth()/2))})},_loading:function(t){"start"===t?(e.objects["case"].addClass(e.settings.classPrefix+"loading"),e.objects.loading.show()):"end"===t&&(e.objects["case"].removeClass(e.settings.classPrefix+"loading"),e.objects.loading.hide())},getViewportDimensions:function(){return{windowWidth:t(window).innerWidth(),windowHeight:t(window).innerHeight()}},_verifyDataUrl:function(t){return!(!t||void 0===t||""===t)&&(t.indexOf("#")>-1&&(t=t.split("#"),t="#"+t[t.length-1]),e._normalizeUrl(t.toString()))},_getFileUrlSuffix:function(t){var e=/(?:\.([^.]+))?$/;return e.exec(t.toLowerCase())[1]},_verifyDataType:function(t){var i=e.settings.typeMapping;if(!t)return!1;for(var s in i)if(i.hasOwnProperty(s))for(var n=i[s].split(","),a=0;a<n.length;a++){var o=n[a].toLowerCase(),c=new RegExp(".("+o+")$","i"),r=t.toLowerCase().split("?")[0].substr(-5);if(c.test(r)===!0||"inline"===s&&t.indexOf(o)>-1)return s}return"iframe"},_addElements:function(){"undefined"!=typeof e.objects["case"]&&t("#"+e.objects["case"].attr("id")).length||e.settings.markup()},_showContent:function(t){e.objects.document.attr(e._prefixAttributeName("type"),e.objectData.type),e.cache.object=t,e._callHooks(e.settings.onBeforeShow),e.settings.breakBeforeShow||e.show()},_startInTransition:function(){switch(e.transition["in"]()){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":e.transition.scroll(e.objects["case"],"in",e.settings.speedIn),e.transition.fade(e.objects.contentInner,"in",e.settings.speedIn);break;case"elastic":e.objects["case"].css("opacity")<1&&(e.transition.zoom(e.objects["case"],"in",e.settings.speedIn),e.transition.fade(e.objects.contentInner,"in",e.settings.speedIn));case"fade":case"fadeInline":e.transition.fade(e.objects["case"],"in",e.settings.speedIn),e.transition.fade(e.objects.contentInner,"in",e.settings.speedIn);break;default:e.transition.fade(e.objects["case"],"in",0)}e._loading("end"),e.isBusy=!1,e.cache.firstOpened||(e.cache.firstOpened=e.objectData["this"]),e.objects.info.hide(),setTimeout(function(){e.transition.fade(e.objects.info,"in",e.settings.speedIn)},e.settings.speedIn),e._callHooks(e.settings.onFinish)},_processContent:function(){switch(e.isBusy=!0,e.transition.fade(e.objects.info,"out",0),e.settings.transitionOut){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":e.objects["case"].is(":hidden")?(e.transition.fade(e.objects.contentInner,"out",0),e.transition.fade(e.objects["case"],"out",0,0,function(){e._loadContent()})):e.transition.scroll(e.objects["case"],"out",e.settings.speedOut,function(){e._loadContent()});break;case"fade":e.objects["case"].is(":hidden")?e.transition.fade(e.objects["case"],"out",0,0,function(){e._loadContent()}):e.transition.fade(e.objects["case"],"out",e.settings.speedOut,0,function(){e._loadContent()});break;case"fadeInline":case"elastic":e.objects["case"].is(":hidden")?e.transition.fade(e.objects["case"],"out",0,0,function(){e._loadContent()}):e.transition.fade(e.objects.contentInner,"out",e.settings.speedOut,0,function(){e._loadContent()});break;default:e.transition.fade(e.objects["case"],"out",0,0,function(){e._loadContent()})}},_handleEvents:function(){e._unbindEvents(),e.objects.nav.children().not(e.objects.close).hide(),e.isSlideshowEnabled()&&(e.settings.slideshowAutoStart!==!0&&!e.isSlideshowStarted||e.objects.nav.hasClass(e.settings.classPrefix+"paused")?e._stopTimeout():e._startTimeout()),e.settings.liveResize&&e._watchResizeInteraction(),e.objects.close.click(function(t){t.preventDefault(),e.close()}),e.settings.closeOnOverlayClick===!0&&e.objects.overlay.css("cursor","pointer").click(function(t){t.preventDefault(),e.close()}),e.settings.useKeys===!0&&e._addKeyEvents(),e.objectData.isPartOfSequence&&(e.objects.nav.attr(e._prefixAttributeName("ispartofsequence"),!0),e.objects.nav.data("items",e._setNavigation()),e.objects.prev.click(function(t){t.preventDefault(),e.settings.navigateEndless!==!0&&e.item.isFirst()||(e.objects.prev.unbind("click"),e.cache.action="prev",e.objects.nav.data("items").prev.click(),e.isSlideshowEnabled()&&e._stopTimeout())}),e.objects.next.click(function(t){t.preventDefault(),e.settings.navigateEndless!==!0&&e.item.isLast()||(e.objects.next.unbind("click"),e.cache.action="next",e.objects.nav.data("items").next.click(),e.isSlideshowEnabled()&&e._stopTimeout())}),e.isSlideshowEnabled()&&(e.objects.play.click(function(t){t.preventDefault(),e._startTimeout()}),e.objects.pause.click(function(t){t.preventDefault(),e._stopTimeout()})),e.settings.swipe===!0&&(t.isPlainObject(t.event.special.swipeleft)&&e.objects["case"].on("swipeleft",function(t){t.preventDefault(),e.objects.next.click(),e.isSlideshowEnabled()&&e._stopTimeout()}),t.isPlainObject(t.event.special.swiperight)&&e.objects["case"].on("swiperight",function(t){t.preventDefault(),e.objects.prev.click(),e.isSlideshowEnabled()&&e._stopTimeout()})))},_addKeyEvents:function(){t(document).bind("keyup.lightcase",function(t){if(!e.isBusy)switch(t.keyCode){case 27:e.objects.close.click();break;case 37:e.objectData.isPartOfSequence&&e.objects.prev.click();break;case 39:e.objectData.isPartOfSequence&&e.objects.next.click()}})},_startTimeout:function(){e.isSlideshowStarted=!0,e.objects.play.hide(),e.objects.pause.show(),e.cache.action="next",e.objects.nav.removeClass(e.settings.classPrefix+"paused"),e.timeout=setTimeout(function(){e.objects.nav.data("items").next.click()},e.settings.timeout)},_stopTimeout:function(){e.objects.play.show(),e.objects.pause.hide(),e.objects.nav.addClass(e.settings.classPrefix+"paused"),clearTimeout(e.timeout)},_setNavigation:function(){var i=t(e.cache.selector||e.settings.attr),s=e.objectData.sequenceLength-1,n={prev:i.eq(e.objectData.prevIndex),next:i.eq(e.objectData.nextIndex)};return e.objectData.currentIndex>0?e.objects.prev.show():n.prevItem=i.eq(s),e.objectData.nextIndex<=s?e.objects.next.show():n.next=i.eq(0),e.settings.navigateEndless===!0&&(e.objects.prev.show(),e.objects.next.show()),n},item:{isFirst:function(){return 0===e.objectData.currentIndex},isFirstOpened:function(){return e.objectData["this"].is(e.cache.firstOpened)},isLast:function(){return e.objectData.currentIndex===e.objectData.sequenceLength-1}},_cloneObject:function(t){var i=t.clone(),s=t.attr("id");return t.is(":hidden")?(e._cacheObjectData(t),t.attr("id",e.settings.idPrefix+"temp-"+s).empty()):i.removeAttr("id"),i.show()},isMobileDevice:function(){var t=navigator.userAgent.toLowerCase(),i=t.match(e.settings.mobileMatchExpression);return!!i},isTransitionSupported:function(){var t=e.objects.body.get(0),i=!1,s={transition:"",WebkitTransition:"-webkit-",MozTransition:"-moz-",OTransition:"-o-",MsTransition:"-ms-"};for(var n in s)s.hasOwnProperty(n)&&n in t.style&&(e.support.transition=s[n],i=!0);return i},transition:{"in":function(){return e.settings.transitionOpen&&!e.cache.firstOpened?e.settings.transitionOpen:e.settings.transitionIn},fade:function(t,i,s,n,a){var o="in"===i,c={},r=t.css("opacity"),l={},d=n?n:o?1:0;!e.isOpen&&o||(c.opacity=r,l.opacity=d,t.css(e.support.transition+"transition","none"),t.css(c).show(),e.support.transitions?(l[e.support.transition+"transition"]=s+"ms ease",setTimeout(function(){t.css(l),setTimeout(function(){t.css(e.support.transition+"transition",""),!a||!e.isOpen&&o||a()},s)},15)):(t.stop(),t.animate(l,s,a)))},scroll:function(t,i,s,n){var a="in"===i,o=a?e.settings.transitionIn:e.settings.transitionOut,c="left",r={},l=a?0:1,d=a?"-50%":"50%",u={},h=a?1:0,f=a?"50%":"-50%";if(e.isOpen||!a){switch(o){case"scrollTop":c="top";break;case"scrollRight":d=a?"150%":"50%",f=a?"50%":"150%";break;case"scrollBottom":c="top",d=a?"150%":"50%",f=a?"50%":"150%";break;case"scrollHorizontal":d=a?"150%":"50%",f=a?"50%":"-50%";break;case"scrollVertical":c="top",d=a?"-50%":"50%",f=a?"50%":"150%"}if("prev"===e.cache.action)switch(o){case"scrollHorizontal":d=a?"-50%":"50%",f=a?"50%":"150%";break;case"scrollVertical":d=a?"150%":"50%",f=a?"50%":"-50%"}r.opacity=l,r[c]=d,u.opacity=h,u[c]=f,t.css(e.support.transition+"transition","none"),t.css(r).show(),e.support.transitions?(u[e.support.transition+"transition"]=s+"ms ease",setTimeout(function(){t.css(u),setTimeout(function(){t.css(e.support.transition+"transition",""),!n||!e.isOpen&&a||n()},s)},15)):(t.stop(),t.animate(u,s,n))}},zoom:function(t,i,s,n){var a="in"===i,o={},c=t.css("opacity"),r=a?"scale(0.75)":"scale(1)",l={},d=a?1:0,u=a?"scale(1)":"scale(0.75)";!e.isOpen&&a||(o.opacity=c,o[e.support.transition+"transform"]=r,l.opacity=d,t.css(e.support.transition+"transition","none"),t.css(o).show(),e.support.transitions?(l[e.support.transition+"transform"]=u,l[e.support.transition+"transition"]=s+"ms ease",setTimeout(function(){t.css(l),setTimeout(function(){t.css(e.support.transition+"transform",""),t.css(e.support.transition+"transition",""),!n||!e.isOpen&&a||n()},s)},15)):(t.stop(),t.animate(l,s,n)))}},_callHooks:function(i){"object"==typeof i&&t.each(i,function(t,i){"function"==typeof i&&i.call(e.origin)})},_cacheObjectData:function(i){t.data(i,"cache",{id:i.attr("id"),content:i.html()}),e.cache.originalObject=i},_restoreObject:function(){var i=t('[id^="'+e.settings.idPrefix+'temp-"]');i.attr("id",t.data(e.cache.originalObject,"cache").id),i.html(t.data(e.cache.originalObject,"cache").content)},resize:function(t,i){e.isOpen&&(e.isSlideshowEnabled()&&e._stopTimeout(),"object"==typeof i&&null!==i&&(i.width&&e.cache.object.attr(e._prefixAttributeName("width"),i.width),i.maxWidth&&e.cache.object.attr(e._prefixAttributeName("max-width"),i.maxWidth),i.height&&e.cache.object.attr(e._prefixAttributeName("height"),i.height),i.maxHeight&&e.cache.object.attr(e._prefixAttributeName("max-height"),i.maxHeight)),e.dimensions=e.getViewportDimensions(),e._calculateDimensions(e.cache.object),e._callHooks(e.settings.onResize))},_watchResizeInteraction:function(){t(window).resize(e.resize)},_unwatchResizeInteraction:function(){t(window).off("resize",e.resize)},_switchToFullScreenMode:function(){e.settings.shrinkFactor=1,e.settings.overlayOpacity=1,t("html").addClass(e.settings.classPrefix+"fullScreenMode")},_open:function(){switch(e.isOpen=!0,e.support.transitions=!!e.settings.cssTransitions&&e.isTransitionSupported(),e.support.mobileDevice=e.isMobileDevice(),e.support.mobileDevice&&(t("html").addClass(e.settings.classPrefix+"isMobileDevice"),e.settings.fullScreenModeForMobile&&e._switchToFullScreenMode()),e.settings.transitionIn||(e.settings.transitionIn=e.settings.transition),e.settings.transitionOut||(e.settings.transitionOut=e.settings.transition),e.transition["in"]()){case"fade":case"fadeInline":case"elastic":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":e.objects["case"].is(":hidden")&&(e.objects.close.css("opacity",0),e.objects.overlay.css("opacity",0),e.objects["case"].css("opacity",0),e.objects.contentInner.css("opacity",0)),e.transition.fade(e.objects.overlay,"in",e.settings.speedIn,e.settings.overlayOpacity,function(){e.transition.fade(e.objects.close,"in",e.settings.speedIn),e._handleEvents(),e._processContent()});break;default:e.transition.fade(e.objects.overlay,"in",0,e.settings.overlayOpacity,function(){e.transition.fade(e.objects.close,"in",0),e._handleEvents(),e._processContent()})}e.objects.document.addClass(e.settings.classPrefix+"open"),e.objects["case"].attr("aria-hidden","false")},show:function(){e._callHooks(e.settings.onBeforeCalculateDimensions),e._calculateDimensions(e.cache.object),e._callHooks(e.settings.onAfterCalculateDimensions),e._startInTransition()},close:function(){switch(e.isOpen=!1,e.isSlideshowEnabled()&&(e._stopTimeout(),e.isSlideshowStarted=!1,e.objects.nav.removeClass(e.settings.classPrefix+"paused")),e.objects.loading.hide(),e._unbindEvents(),e._unwatchResizeInteraction(),t("html").removeClass(e.settings.classPrefix+"open"),e.objects["case"].attr("aria-hidden","true"),e.objects.nav.children().hide(),e.objects.close.hide(),e._callHooks(e.settings.onClose),e.transition.fade(e.objects.info,"out",0),e.settings.transitionClose||e.settings.transitionOut){case"fade":case"fadeInline":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":e.transition.fade(e.objects["case"],"out",e.settings.speedOut,0,function(){e.transition.fade(e.objects.overlay,"out",e.settings.speedOut,0,function(){e.cleanup()})});break;case"elastic":e.transition.zoom(e.objects["case"],"out",e.settings.speedOut,function(){e.transition.fade(e.objects.overlay,"out",e.settings.speedOut,0,function(){e.cleanup()})});break;default:e.cleanup()}},_unbindEvents:function(){e.objects.overlay.unbind("click"),t(document).unbind("keyup.lightcase"),e.objects["case"].unbind("swipeleft").unbind("swiperight"),e.objects.prev.unbind("click"),e.objects.next.unbind("click"),e.objects.play.unbind("click"),e.objects.pause.unbind("click"),e.objects.close.unbind("click")},_cleanupDimensions:function(){var t=e.objects.contentInner.css("opacity");e.objects["case"].css({width:"",height:"",top:"",left:"","margin-top":"","margin-left":""}),e.objects.contentInner.removeAttr("style").css("opacity",t),e.objects.contentInner.children().removeAttr("style")},cleanup:function(){e._cleanupDimensions(),e.objects.loading.hide(),e.objects.overlay.hide(),e.objects["case"].hide(),e.objects.prev.hide(),e.objects.next.hide(),e.objects.play.hide(),e.objects.pause.hide(),e.objects.document.removeAttr(e._prefixAttributeName("type")),e.objects.nav.removeAttr(e._prefixAttributeName("ispartofsequence")),e.objects.contentInner.empty().hide(),e.objects.info.children().empty(),e.cache.originalObject&&e._restoreObject(),e._callHooks(e.settings.onCleanup),e.cache={}},_matchMedia:function(){return window.matchMedia||window.msMatchMedia},_devicePixelRatio:function(){return window.devicePixelRatio||1},_isPublicMethod:function(t){return"function"==typeof e[t]&&"_"!==t.charAt(0)},_export:function(){window.lightcase={},t.each(e,function(t){e._isPublicMethod(t)&&(lightcase[t]=e[t])})}};e._export(),t.fn.lightcase=function(i){return e._isPublicMethod(i)?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on jQuery.lightcase"):e.init.apply(this,arguments)}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpZ2h0Y2FzZS5qcyJdLCJuYW1lcyI6WyIkIiwiX3NlbGYiLCJjYWNoZSIsInN1cHBvcnQiLCJvYmplY3RzIiwiaW5pdCIsIm9wdGlvbnMiLCJ0aGlzIiwiZWFjaCIsInVuYmluZCIsImJpbmQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibGlnaHRjYXNlIiwic3RhcnQiLCJvcmlnaW4iLCJzZXR0aW5ncyIsImV4dGVuZCIsImlkUHJlZml4IiwiY2xhc3NQcmVmaXgiLCJhdHRyUHJlZml4IiwidHJhbnNpdGlvbiIsInRyYW5zaXRpb25PcGVuIiwidHJhbnNpdGlvbkNsb3NlIiwidHJhbnNpdGlvbkluIiwidHJhbnNpdGlvbk91dCIsImNzc1RyYW5zaXRpb25zIiwic3BlZWRJbiIsInNwZWVkT3V0Iiwid2lkdGgiLCJoZWlnaHQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsImZvcmNlV2lkdGgiLCJmb3JjZUhlaWdodCIsImxpdmVSZXNpemUiLCJmdWxsU2NyZWVuTW9kZUZvck1vYmlsZSIsIm1vYmlsZU1hdGNoRXhwcmVzc2lvbiIsImRpc2FibGVTaHJpbmsiLCJmaXhlZFJhdGlvIiwic2hyaW5rRmFjdG9yIiwib3ZlcmxheU9wYWNpdHkiLCJzbGlkZXNob3ciLCJzbGlkZXNob3dBdXRvU3RhcnQiLCJicmVha0JlZm9yZVNob3ciLCJ0aW1lb3V0Iiwic3dpcGUiLCJ1c2VLZXlzIiwidXNlQ2F0ZWdvcmllcyIsInVzZUFzQ29sbGVjdGlvbiIsIm5hdmlnYXRlRW5kbGVzcyIsImNsb3NlT25PdmVybGF5Q2xpY2siLCJ0aXRsZSIsImNhcHRpb24iLCJzaG93VGl0bGUiLCJzaG93Q2FwdGlvbiIsInNob3dTZXF1ZW5jZUluZm8iLCJpbmxpbmUiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiZGF0YSIsImlmcmFtZSIsImZyYW1lYm9yZGVyIiwiZmxhc2giLCJ3bW9kZSIsInZpZGVvIiwicG9zdGVyIiwicHJlbG9hZCIsImNvbnRyb2xzIiwiYXV0b2J1ZmZlciIsImF1dG9wbGF5IiwibG9vcCIsImF0dHIiLCJocmVmIiwidHlwZU1hcHBpbmciLCJpbWFnZSIsImVycm9yTWVzc2FnZSIsImxhYmVscyIsInNlcXVlbmNlSW5mby5vZiIsImNsb3NlIiwibmF2aWdhdG9yLnByZXYiLCJuYXZpZ2F0b3IubmV4dCIsIm5hdmlnYXRvci5wbGF5IiwibmF2aWdhdG9yLnBhdXNlIiwibWFya3VwIiwiYm9keSIsImFwcGVuZCIsIm92ZXJsYXkiLCJsb2FkaW5nIiwiYWZ0ZXIiLCJuYXYiLCJwcmV2IiwiaGlkZSIsIm5leHQiLCJwbGF5IiwicGF1c2UiLCJjb250ZW50IiwiaW5mbyIsImNvbnRlbnRJbm5lciIsInNlcXVlbmNlSW5mbyIsIm9uSW5pdCIsIm9uU3RhcnQiLCJvbkJlZm9yZUNhbGN1bGF0ZURpbWVuc2lvbnMiLCJvbkFmdGVyQ2FsY3VsYXRlRGltZW5zaW9ucyIsIm9uQmVmb3JlU2hvdyIsIm9uRmluaXNoIiwib25SZXNpemUiLCJvbkNsb3NlIiwib25DbGVhbnVwIiwiZG9jdW1lbnQiLCJfY2FsbEhvb2tzIiwib2JqZWN0RGF0YSIsIl9zZXRPYmplY3REYXRhIiwiX2FkZEVsZW1lbnRzIiwiX29wZW4iLCJkaW1lbnNpb25zIiwiZ2V0Vmlld3BvcnREaW1lbnNpb25zIiwiZ2V0IiwibmFtZSIsImdldE9iamVjdERhdGEiLCJvYmplY3QiLCIkb2JqZWN0IiwiX3ByZWZpeEF0dHJpYnV0ZU5hbWUiLCJjaGlsZHJlbiIsInVybCIsIl9kZXRlcm1pbmVVcmwiLCJyZXF1ZXN0VHlwZSIsInJlcXVlc3REYXRhIiwicmVxdWVzdERhdGFUeXBlIiwicmVsIiwiX2RldGVybWluZUF0dHJpYnV0ZVNlbGVjdG9yIiwiX3ZlcmlmeURhdGFUeXBlIiwiaXNQYXJ0T2ZTZXF1ZW5jZSIsIl9pc1BhcnRPZlNlcXVlbmNlIiwiaXNQYXJ0T2ZTZXF1ZW5jZVdpdGhTbGlkZXNob3ciLCJjdXJyZW50SW5kZXgiLCJpbmRleCIsInNlcXVlbmNlTGVuZ3RoIiwibGVuZ3RoIiwicHJldkluZGV4IiwibmV4dEluZGV4IiwiX2RldGVybWluZUxpbmtUYXJnZXQiLCIkb3JpZ2luIiwic2VsZWN0b3IiLCJjYXRlZ29yaWVzIiwic3BsaXQiLCJjYXRlZ29yeSIsImRhdGFVcmwiLCJfdmVyaWZ5RGF0YVVybCIsImRlbnNpdHkiLCJzdXBwb3J0TGV2ZWwiLCJzcmMiLCJjcmVhdGVFbGVtZW50IiwidmlkZW9UeXBlIiwiX2dldEZpbGVVcmxTdWZmaXgiLCJjYW5QbGF5VHlwZSIsIl9kZXZpY2VQaXhlbFJhdGlvIiwiX21hdGNoTWVkaWEiLCJtYXRjaGVzIiwiX25vcm1hbGl6ZVVybCIsInNyY0V4cCIsIm1hcCIsInN0ciIsInRyaW0iLCJmb3JFYWNoIiwiaSIsInZhbHVlIiwic3Vic3RyaW5nIiwibGFzdENoYXIiLCJpbnRWYWwiLCJwYXJzZUludCIsImZsb2F0VmFsIiwicGFyc2VGbG9hdCIsInRlc3QiLCJpc05hTiIsImV4cHJlc3Npb24iLCJnZXRTaW1pbGFyTGlua3MiLCJyZWdleHAiLCJSZWdFeHAiLCJpc1NsaWRlc2hvd0VuYWJsZWQiLCJfbG9hZENvbnRlbnQiLCJvcmlnaW5hbE9iamVjdCIsIl9yZXN0b3JlT2JqZWN0IiwiX2NyZWF0ZU9iamVjdCIsIkltYWdlIiwiYWx0IiwiaHRtbCIsIl9jbG9uZU9iamVjdCIsIl9hZGRPYmplY3QiLCJfbG9hZE9iamVjdCIsIl9sb2FkaW5nIiwic2hvdyIsImVtcHR5IiwidW5kZWZpbmVkIiwiX3Nob3dDb250ZW50IiwiZXJyb3IiLCJzdWNjZXNzIiwidGV4dFN0YXR1cyIsImpxWEhSIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJlcnJvclRocm93biIsImZpbmQiLCJvbiIsIl9jYWxjdWxhdGVEaW1lbnNpb25zIiwiX2NsZWFudXBEaW1lbnNpb25zIiwicmF0aW8iLCJvYmplY3RXaWR0aCIsIm9iamVjdEhlaWdodCIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0IiwiZGlmZmVyZW5jZVdpZHRoQXNQZXJjZW50IiwiZGlmZmVyZW5jZUhlaWdodEFzUGVyY2VudCIsImUiLCJfYWRqdXN0RGltZW5zaW9ucyIsImNzcyIsIm1heC13aWR0aCIsIm1heC1oZWlnaHQiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJtYXJnaW4tdG9wIiwibWFyZ2luLWxlZnQiLCJwcm9jZXNzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImluZGV4T2YiLCJ0b1N0cmluZyIsInJlIiwiZXhlYyIsInRvTG93ZXJDYXNlIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJzdWZmaXhBcnIiLCJzdWZmaXgiLCJzdWJzdHIiLCJfc3RhcnRJblRyYW5zaXRpb24iLCJzY3JvbGwiLCJmYWRlIiwiem9vbSIsImlzQnVzeSIsImZpcnN0T3BlbmVkIiwic2V0VGltZW91dCIsIl9wcm9jZXNzQ29udGVudCIsImlzIiwiX2hhbmRsZUV2ZW50cyIsIl91bmJpbmRFdmVudHMiLCJub3QiLCJpc1NsaWRlc2hvd1N0YXJ0ZWQiLCJoYXNDbGFzcyIsIl9zdG9wVGltZW91dCIsIl9zdGFydFRpbWVvdXQiLCJfd2F0Y2hSZXNpemVJbnRlcmFjdGlvbiIsImNsaWNrIiwiX2FkZEtleUV2ZW50cyIsIl9zZXROYXZpZ2F0aW9uIiwiaXRlbSIsImlzRmlyc3QiLCJhY3Rpb24iLCJpc0xhc3QiLCJpc1BsYWluT2JqZWN0Iiwic3BlY2lhbCIsInN3aXBlbGVmdCIsInN3aXBlcmlnaHQiLCJrZXlDb2RlIiwiY2xlYXJUaW1lb3V0IiwiJGxpbmtzIiwiaXRlbXMiLCJlcSIsInByZXZJdGVtIiwiaXNGaXJzdE9wZW5lZCIsIiRjbG9uZSIsImNsb25lIiwib2JqZWN0SWQiLCJfY2FjaGVPYmplY3REYXRhIiwicmVtb3ZlQXR0ciIsImlzTW9iaWxlRGV2aWNlIiwiZGV2aWNlQWdlbnQiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJhZ2VudElkIiwibWF0Y2giLCJpc1RyYW5zaXRpb25TdXBwb3J0ZWQiLCJ0cmFuc2l0aW9uTWFwcGluZyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJNc1RyYW5zaXRpb24iLCJzdHlsZSIsImluIiwic3BlZWQiLCJvcGFjaXR5IiwiY2FsbGJhY2siLCJpc0luVHJhbnNpdGlvbiIsInN0YXJ0VHJhbnNpdGlvbiIsInN0YXJ0T3BhY2l0eSIsImVuZFRyYW5zaXRpb24iLCJlbmRPcGFjaXR5IiwiaXNPcGVuIiwidHJhbnNpdGlvbnMiLCJzdG9wIiwiYW5pbWF0ZSIsImRpcmVjdGlvbiIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0Iiwic3RhcnRTY2FsZSIsImVuZFNjYWxlIiwiaG9va3MiLCJob29rIiwiY2FsbCIsImlkIiwicmVzaXplIiwiX3Vud2F0Y2hSZXNpemVJbnRlcmFjdGlvbiIsIm9mZiIsIl9zd2l0Y2hUb0Z1bGxTY3JlZW5Nb2RlIiwibW9iaWxlRGV2aWNlIiwiY2xlYW51cCIsInRvcCIsImxlZnQiLCJtYXRjaE1lZGlhIiwibXNNYXRjaE1lZGlhIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIl9pc1B1YmxpY01ldGhvZCIsIm1ldGhvZCIsImNoYXJBdCIsIl9leHBvcnQiLCJwcm9wZXJ0eSIsImZuIiwiYXBwbHkiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiYXJndW1lbnRzIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FVQyxTQUFXQSxHQUVYLFlBRUEsSUFBSUMsSUFDSEMsU0FFQUMsV0FFQUMsV0FRQUMsS0FBTSxTQUFVQyxHQUNmLE1BQU9DLE1BQUtDLEtBQUssV0FDaEJSLEVBQUVPLE1BQU1FLE9BQU8sbUJBQW1CQyxLQUFLLGtCQUFtQixTQUFVQyxHQUNuRUEsRUFBTUMsaUJBQ05aLEVBQUVPLE1BQU1NLFVBQVUsUUFBU1AsUUFXOUJRLE1BQU8sU0FBVVIsR0FDaEJMLEVBQU1jLE9BQVNGLFVBQVVFLE9BQVNSLEtBRWxDTixFQUFNZSxTQUFXSCxVQUFVRyxTQUFXaEIsRUFBRWlCLFFBQU8sR0FDOUNDLFNBQVUsYUFDVkMsWUFBYSxhQUNiQyxXQUFZLE1B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USxLQUFLUCxFQUFPLFNBQVV1VSxHQUNuQnZVLEVBQU1tVSxnQkFBZ0JJLEtBQ3pCM1QsVUFBVTJULEdBQVl2VSxFQUFNdVUsT0FNaEN2VSxHQUFNc1UsVUFFTnZVLEVBQUV5VSxHQUFHNVQsVUFBWSxTQUFVd1QsR0FFMUIsTUFBSXBVLEdBQU1tVSxnQkFBZ0JDLEdBQ2xCcFUsRUFBTW9VLEdBQVFLLE1BQU1uVSxLQUFNb1UsTUFBTUMsVUFBVUMsTUFBTXRCLEtBQUt1QixVQUFXLElBQzNDLGdCQUFYVCxJQUF3QkEsTUFHekNyVSxHQUFFb00sTUFBTSxVQUFZaUksRUFBUyx1Q0FGdEJwVSxFQUFNSSxLQUFLcVUsTUFBTW5VLEtBQU11VSxhQUs5QkMiLCJmaWxlIjoibGlnaHRjYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIExpZ2h0Y2FzZSAtIGpRdWVyeSBQbHVnaW5cbiAqIFRoZSBzbWFydCBhbmQgZmxleGlibGUgTGlnaHRib3ggUGx1Z2luLlxuICpcbiAqIEBhdXRob3JcdFx0Q29ybmVsIEJvcHBhcnQgPGNvcm5lbEBib3BwLWFydC5jb20+XG4gKiBAY29weXJpZ2h0XHRBdXRob3JcbiAqXG4gKiBAdmVyc2lvblx0XHQyLjUuMCAoMTEvMDMvMjAxOClcbiAqL1xuXG47KGZ1bmN0aW9uICgkKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBfc2VsZiA9IHtcblx0XHRjYWNoZToge30sXG5cblx0XHRzdXBwb3J0OiB7fSxcblxuXHRcdG9iamVjdHM6IHt9LFxuXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIHBsdWdpblxuXHRcdCAqXG5cdFx0ICogQHBhcmFtXHR7b2JqZWN0fVx0b3B0aW9uc1xuXHRcdCAqIEByZXR1cm5cdHtvYmplY3R9XG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkKHRoaXMpLnVuYmluZCgnY2xpY2subGlnaHRjYXNlJykuYmluZCgnY2xpY2subGlnaHRjYXNlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHQkKHRoaXMpLmxpZ2h0Y2FzZSgnc3RhcnQnLCBvcHRpb25zKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU3RhcnRzIHRoZSBwbHVnaW5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbVx0e29iamVjdH1cdG9wdGlvbnNcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRzdGFydDogZnVuY3Rpb24gKG9wdGlvbnMpIHtcblx0XHRcdF9zZWxmLm9yaWdpbiA9IGxpZ2h0Y2FzZS5vcmlnaW4gPSB0aGlzO1xuXG5cdFx0XHRfc2VsZi5zZXR0aW5ncyA9IGxpZ2h0Y2FzZS5zZXR0aW5ncyA9ICQuZXh0ZW5kKHRydWUsIHtcblx0XHRcdFx0aWRQcmVmaXg6ICdsaWdodGNhc2UtJyxcblx0XHRcdFx0Y2xhc3NQcmVmaXg6ICdsaWdodGNhc2UtJyxcblx0XHRcdFx0YXR0clByZWZpeDogJ2xjLScsXG5cdFx0XHRcdHRyYW5zaXRpb246ICdlbGFzdGljJyxcblx0XHRcdFx0dHJhbnNpdGlvbk9wZW46IG51bGwsXG5cdFx0XHRcdHRyYW5zaXRpb25DbG9zZTogbnVsbCxcblx0XHRcdFx0dHJhbnNpdGlvbkluOiBudWxsLFxuXHRcdFx0XHR0cmFuc2l0aW9uT3V0OiBudWxsLFxuXHRcdFx0XHRjc3NUcmFuc2l0aW9uczogdHJ1ZSxcblx0XHRcdFx0c3BlZWRJbjogMjUwLFxuXHRcdFx0XHRzcGVlZE91dDogMjUwLFxuXHRcdFx0XHR3aWR0aDogbnVsbCxcblx0XHRcdFx0aGVpZ2h0OiBudWxsLFxuXHRcdFx0XHRtYXhXaWR0aDogODAwLFxuXHRcdFx0XHRtYXhIZWlnaHQ6IDUwMCxcblx0XHRcdFx0Zm9yY2VXaWR0aDogZmFsc2UsXG5cdFx0XHRcdGZvcmNlSGVpZ2h0OiBmYWxzZSxcblx0XHRcdFx0bGl2ZVJlc2l6ZTogdHJ1ZSxcblx0XHRcdFx0ZnVsbFNjcmVlbk1vZGVGb3JNb2JpbGU6IHRydWUsXG5cdFx0XHRcdG1vYmlsZU1hdGNoRXhwcmVzc2lvbjogLyhpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxzeW1iaWFuKS8sXG5cdFx0XHRcdGRpc2FibGVTaHJpbms6IGZhbHNlLFxuXHRcdFx0XHRmaXhlZFJhdGlvOiB0cnVlLFxuXHRcdFx0XHRzaHJpbmtGYWN0b3I6IC43NSxcblx0XHRcdFx0b3ZlcmxheU9wYWNpdHk6IC45LFxuXHRcdFx0XHRzbGlkZXNob3c6IGZhbHNlLFxuXHRcdFx0XHRzbGlkZXNob3dBdXRvU3RhcnQ6IHRydWUsXG5cdFx0XHRcdGJyZWFrQmVmb3JlU2hvdzogZmFsc2UsXG5cdFx0XHRcdHRpbWVvdXQ6IDUwMDAsXG5cdFx0XHRcdHN3aXBlOiB0cnVlLFxuXHRcdFx0XHR1c2VLZXlzOiB0cnVlLFxuXHRcdFx0XHR1c2VDYXRlZ29yaWVzOiB0cnVlLFxuXHRcdFx0XHR1c2VBc0NvbGxlY3Rpb246IGZhbHNlLFxuXHRcdFx0XHRuYXZpZ2F0ZUVuZGxlc3M6IHRydWUsXG5cdFx0XHRcdGNsb3NlT25PdmVybGF5Q2xpY2s6IHRydWUsXG5cdFx0XHRcdHRpdGxlOiBudWxsLFxuXHRcdFx0XHRjYXB0aW9uOiBudWxsLFxuXHRcdFx0XHRzaG93VGl0bGU6IHRydWUsXG5cdFx0XHRcdHNob3dDYXB0aW9uOiB0cnVlLFxuXHRcdFx0XHRzaG93U2VxdWVuY2VJbmZvOiB0cnVlLFxuXHRcdFx0XHRpbmxpbmU6IHtcblx0XHRcdFx0XHR3aWR0aDogJ2F1dG8nLFxuXHRcdFx0XHRcdGhlaWdodDogJ2F1dG8nXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGFqYXg6IHtcblx0XHRcdFx0XHR3aWR0aDogJ2F1dG8nLFxuXHRcdFx0XHRcdGhlaWdodDogJ2F1dG8nLFxuXHRcdFx0XHRcdHR5cGU6ICdnZXQnLFxuXHRcdFx0XHRcdGRhdGFUeXBlOiAnaHRtbCcsXG5cdFx0XHRcdFx0ZGF0YToge31cblx0XHRcdFx0fSxcblx0XHRcdFx0aWZyYW1lOiB7XG5cdFx0XHRcdFx0d2lkdGg6IDgwMCxcblx0XHRcdFx0XHRoZWlnaHQ6IDUwMCxcblx0XHRcdFx0XHRmcmFtZWJvcmRlcjogMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRmbGFzaDoge1xuXHRcdFx0XHRcdHdpZHRoOiA0MDAsXG5cdFx0XHRcdFx0aGVpZ2h0OiAyMDUsXG5cdFx0XHRcdFx0d21vZGU6ICd0cmFuc3BhcmVudCdcblx0XHRcdFx0fSxcblx0XHRcdFx0dmlkZW86IHtcblx0XHRcdFx0XHR3aWR0aDogNDAwLFxuXHRcdFx0XHRcdGhlaWdodDogMjI1LFxuXHRcdFx0XHRcdHBvc3RlcjogJycsXG5cdFx0XHRcdFx0cHJlbG9hZDogJ2F1dG8nLFxuXHRcdFx0XHRcdGNvbnRyb2xzOiB0cnVlLFxuXHRcdFx0XHRcdGF1dG9idWZmZXI6IHRydWUsXG5cdFx0XHRcdFx0YXV0b3BsYXk6IHRydWUsXG5cdFx0XHRcdFx0bG9vcDogZmFsc2Vcblx0XHRcdFx0fSxcblx0XHRcdFx0YXR0cjogJ2RhdGEtcmVsJyxcblx0XHRcdFx0aHJlZjogbnVsbCxcblx0XHRcdFx0dHlwZTogbnVsbCxcblx0XHRcdFx0dHlwZU1hcHBpbmc6IHtcblx0XHRcdFx0XHQnaW1hZ2UnOiAnanBnLGpwZWcsZ2lmLHBuZyxibXAnLFxuXHRcdFx0XHRcdCdmbGFzaCc6ICdzd2YnLFxuXHRcdFx0XHRcdCd2aWRlbyc6ICdtcDQsbW92LG9ndixvZ2csd2VibScsXG5cdFx0XHRcdFx0J2lmcmFtZSc6ICdodG1sLHBocCcsXG5cdFx0XHRcdFx0J2FqYXgnOiAnanNvbix0eHQnLFxuXHRcdFx0XHRcdCdpbmxpbmUnOiAnIydcblx0XHRcdFx0fSxcblx0XHRcdFx0ZXJyb3JNZXNzYWdlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0cmV0dXJuICc8cCBjbGFzcz1cIicgKyBfc2VsZi5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICdlcnJvclwiPicgKyBfc2VsZi5zZXR0aW5ncy5sYWJlbHNbJ2Vycm9yTWVzc2FnZSddICsgJzwvcD4nO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRsYWJlbHM6IHtcblx0XHRcdFx0XHQnZXJyb3JNZXNzYWdlJzogJ1NvdXJjZSBjb3VsZCBub3QgYmUgZm91bmQuLi4nLFxuXHRcdFx0XHRcdCdzZXF1ZW5jZUluZm8ub2YnOiAnIG9mICcsXG5cdFx0XHRcdFx0J2Nsb3NlJzogJ0Nsb3NlJyxcblx0XHRcdFx0XHQnbmF2aWdhdG9yLnByZXYnOiAnUHJldicsXG5cdFx0XHRcdFx0J25hdmlnYXRvci5uZXh0JzogJ05leHQnLFxuIFx0XHRcdFx0XHQnbmF2aWdhdG9yLnBsYXknOiAnUGxheScsXG5cdFx0XHRcdFx0J25hdmlnYXRvci5wYXVzZSc6ICdQYXVzZSdcblx0XHRcdFx0fSxcblx0XHRcdFx0bWFya3VwOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5ib2R5LmFwcGVuZChcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMub3ZlcmxheSA9ICQoJzxkaXYgaWQ9XCInICsgX3NlbGYuc2V0dGluZ3MuaWRQcmVmaXggKyAnb3ZlcmxheVwiPjwvZGl2PicpLFxuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5sb2FkaW5nID0gJCgnPGRpdiBpZD1cIicgKyBfc2VsZi5zZXR0aW5ncy5pZFByZWZpeCArICdsb2FkaW5nXCIgY2xhc3M9XCInICsgX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnaWNvbi1zcGluXCI+PC9kaXY+JyksXG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLmNhc2UgPSAkKCc8ZGl2IGlkPVwiJyArIF9zZWxmLnNldHRpbmdzLmlkUHJlZml4ICsgJ2Nhc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIiByb2xlPVwiZGlhbG9nXCI+PC9kaXY+Jylcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuY2FzZS5hZnRlcihcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuY2xvc2UgPSAkKCc8YSBocmVmPVwiI1wiIGNsYXNzPVwiJyArIF9zZWxmLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJ2ljb24tY2xvc2VcIj48c3Bhbj4nICsgX3NlbGYuc2V0dGluZ3MubGFiZWxzWydjbG9zZSddICsgJzwvc3Bhbj48L2E+JyksXG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLm5hdiA9ICQoJzxkaXYgaWQ9XCInICsgX3NlbGYuc2V0dGluZ3MuaWRQcmVmaXggKyAnbmF2XCI+PC9kaXY+Jylcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdF9zZWxmLm9iamVjdHMubmF2LmFwcGVuZChcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMucHJldiA9ICQoJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCInICsgX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnaWNvbi1wcmV2XCI+PHNwYW4+JyArIF9zZWxmLnNldHRpbmdzLmxhYmVsc1snbmF2aWdhdG9yLnByZXYnXSArICc8L3NwYW4+PC9hPicpLmhpZGUoKSxcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMubmV4dCA9ICQoJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCInICsgX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnaWNvbi1uZXh0XCI+PHNwYW4+JyArIF9zZWxmLnNldHRpbmdzLmxhYmVsc1snbmF2aWdhdG9yLm5leHQnXSArICc8L3NwYW4+PC9hPicpLmhpZGUoKSxcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMucGxheSA9ICQoJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCInICsgX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnaWNvbi1wbGF5XCI+PHNwYW4+JyArIF9zZWxmLnNldHRpbmdzLmxhYmVsc1snbmF2aWdhdG9yLnBsYXknXSArICc8L3NwYW4+PC9hPicpLmhpZGUoKSxcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMucGF1c2UgPSAkKCc8YSBocmVmPVwiI1wiIGNsYXNzPVwiJyArIF9zZWxmLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJ2ljb24tcGF1c2VcIj48c3Bhbj4nICsgX3NlbGYuc2V0dGluZ3MubGFiZWxzWyduYXZpZ2F0b3IucGF1c2UnXSArICc8L3NwYW4+PC9hPicpLmhpZGUoKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5jYXNlLmFwcGVuZChcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuY29udGVudCA9ICQoJzxkaXYgaWQ9XCInICsgX3NlbGYuc2V0dGluZ3MuaWRQcmVmaXggKyAnY29udGVudFwiPjwvZGl2PicpLFxuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5pbmZvID0gJCgnPGRpdiBpZD1cIicgKyBfc2VsZi5zZXR0aW5ncy5pZFByZWZpeCArICdpbmZvXCI+PC9kaXY+Jylcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuY29udGVudC5hcHBlbmQoXG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLmNvbnRlbnRJbm5lciA9ICQoJzxkaXYgY2xhc3M9XCInICsgX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnY29udGVudElubmVyXCI+PC9kaXY+Jylcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuaW5mby5hcHBlbmQoXG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLnNlcXVlbmNlSW5mbyA9ICQoJzxkaXYgaWQ9XCInICsgX3NlbGYuc2V0dGluZ3MuaWRQcmVmaXggKyAnc2VxdWVuY2VJbmZvXCI+PC9kaXY+JyksXG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLnRpdGxlID0gJCgnPGg0IGlkPVwiJyArIF9zZWxmLnNldHRpbmdzLmlkUHJlZml4ICsgJ3RpdGxlXCI+PC9oND4nKSxcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuY2FwdGlvbiA9ICQoJzxwIGlkPVwiJyArIF9zZWxmLnNldHRpbmdzLmlkUHJlZml4ICsgJ2NhcHRpb25cIj48L3A+Jylcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRvbkluaXQ6IHt9LFxuXHRcdFx0XHRvblN0YXJ0OiB7fSxcblx0XHRcdFx0b25CZWZvcmVDYWxjdWxhdGVEaW1lbnNpb25zOiB7fSxcblx0XHRcdFx0b25BZnRlckNhbGN1bGF0ZURpbWVuc2lvbnM6IHt9LFxuXHRcdFx0XHRvbkJlZm9yZVNob3c6IHt9LFxuXHRcdFx0XHRvbkZpbmlzaDoge30sXG5cdFx0XHRcdG9uUmVzaXplOiB7fSxcblx0XHRcdFx0b25DbG9zZToge30sXG5cdFx0XHRcdG9uQ2xlYW51cDoge31cblx0XHRcdH0sXG5cdFx0XHRvcHRpb25zLFxuXHRcdFx0Ly8gTG9hZCBvcHRpb25zIGZyb20gZGF0YS1sYy1vcHRpb25zIGF0dHJpYnV0ZVxuXHRcdFx0X3NlbGYub3JpZ2luLmRhdGEgPyBfc2VsZi5vcmlnaW4uZGF0YSgnbGMtb3B0aW9ucycpIDoge30pO1xuXG5cdFx0XHRfc2VsZi5vYmplY3RzLmRvY3VtZW50ID0gJCgnaHRtbCcpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5ib2R5ID0gJCgnYm9keScpO1xuXG5cdFx0XHQvLyBDYWxsIG9uSW5pdCBob29rIGZ1bmN0aW9uc1xuXHRcdFx0X3NlbGYuX2NhbGxIb29rcyhfc2VsZi5zZXR0aW5ncy5vbkluaXQpO1xuXG5cdFx0XHRfc2VsZi5vYmplY3REYXRhID0gX3NlbGYuX3NldE9iamVjdERhdGEodGhpcyk7XG5cblx0XHRcdF9zZWxmLl9hZGRFbGVtZW50cygpO1xuXHRcdFx0X3NlbGYuX29wZW4oKTtcblxuXHRcdFx0X3NlbGYuZGltZW5zaW9ucyA9IF9zZWxmLmdldFZpZXdwb3J0RGltZW5zaW9ucygpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBHZXR0ZXIgbWV0aG9kIGZvciBvYmplY3RzXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRuYW1lXG5cdFx0ICogQHJldHVyblx0e29iamVjdH1cblx0XHQgKi9cblx0XHRnZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRyZXR1cm4gX3NlbGYub2JqZWN0c1tuYW1lXTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogR2V0dGVyIG1ldGhvZCBmb3Igb2JqZWN0RGF0YVxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e29iamVjdH1cblx0XHQgKi9cblx0XHRnZXRPYmplY3REYXRhOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gX3NlbGYub2JqZWN0RGF0YTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU2V0cyB0aGUgb2JqZWN0IGRhdGFcblx0XHQgKlxuXHRcdCAqIEBwYXJhbVx0e29iamVjdH1cdG9iamVjdFxuXHRcdCAqIEByZXR1cm5cdHtvYmplY3R9XHRvYmplY3REYXRhXG5cdFx0ICovXG5cdFx0X3NldE9iamVjdERhdGE6IGZ1bmN0aW9uIChvYmplY3QpIHtcblx0XHQgXHR2YXIgJG9iamVjdCA9ICQob2JqZWN0KSxcblx0XHRcdFx0b2JqZWN0RGF0YSA9IHtcblx0XHRcdFx0dGhpczogJChvYmplY3QpLFxuXHRcdFx0XHR0aXRsZTogX3NlbGYuc2V0dGluZ3MudGl0bGUgfHwgJG9iamVjdC5hdHRyKF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKCd0aXRsZScpKSB8fCAkb2JqZWN0LmF0dHIoJ3RpdGxlJyksXG5cdFx0XHRcdGNhcHRpb246IF9zZWxmLnNldHRpbmdzLmNhcHRpb24gfHwgJG9iamVjdC5hdHRyKF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKCdjYXB0aW9uJykpIHx8ICRvYmplY3QuY2hpbGRyZW4oJ2ltZycpLmF0dHIoJ2FsdCcpLFxuXHRcdFx0XHR1cmw6IF9zZWxmLl9kZXRlcm1pbmVVcmwoKSxcblx0XHRcdFx0cmVxdWVzdFR5cGU6IF9zZWxmLnNldHRpbmdzLmFqYXgudHlwZSxcblx0XHRcdFx0cmVxdWVzdERhdGE6IF9zZWxmLnNldHRpbmdzLmFqYXguZGF0YSxcblx0XHRcdFx0cmVxdWVzdERhdGFUeXBlOiBfc2VsZi5zZXR0aW5ncy5hamF4LmRhdGFUeXBlLFxuXHRcdFx0XHRyZWw6ICRvYmplY3QuYXR0cihfc2VsZi5fZGV0ZXJtaW5lQXR0cmlidXRlU2VsZWN0b3IoKSksXG5cdFx0XHRcdHR5cGU6IF9zZWxmLnNldHRpbmdzLnR5cGUgfHwgX3NlbGYuX3ZlcmlmeURhdGFUeXBlKF9zZWxmLl9kZXRlcm1pbmVVcmwoKSksXG5cdFx0XHRcdGlzUGFydE9mU2VxdWVuY2U6IF9zZWxmLnNldHRpbmdzLnVzZUFzQ29sbGVjdGlvbiB8fCBfc2VsZi5faXNQYXJ0T2ZTZXF1ZW5jZSgkb2JqZWN0LmF0dHIoX3NlbGYuc2V0dGluZ3MuYXR0ciksICc6JyksXG5cdFx0XHRcdGlzUGFydE9mU2VxdWVuY2VXaXRoU2xpZGVzaG93OiBfc2VsZi5faXNQYXJ0T2ZTZXF1ZW5jZSgkb2JqZWN0LmF0dHIoX3NlbGYuc2V0dGluZ3MuYXR0ciksICc6c2xpZGVzaG93JyksXG5cdFx0XHRcdGN1cnJlbnRJbmRleDogJChfc2VsZi5fZGV0ZXJtaW5lQXR0cmlidXRlU2VsZWN0b3IoKSkuaW5kZXgoJG9iamVjdCksXG5cdFx0XHRcdHNlcXVlbmNlTGVuZ3RoOiAkKF9zZWxmLl9kZXRlcm1pbmVBdHRyaWJ1dGVTZWxlY3RvcigpKS5sZW5ndGhcblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBzZXF1ZW5jZSBpbmZvIHRvIG9iamVjdERhdGFcblx0XHRcdG9iamVjdERhdGEuc2VxdWVuY2VJbmZvID0gKG9iamVjdERhdGEuY3VycmVudEluZGV4ICsgMSkgKyBfc2VsZi5zZXR0aW5ncy5sYWJlbHNbJ3NlcXVlbmNlSW5mby5vZiddICsgb2JqZWN0RGF0YS5zZXF1ZW5jZUxlbmd0aDtcblxuXHRcdFx0Ly8gQWRkIG5leHQvcHJldiBpbmRleFxuXHRcdFx0b2JqZWN0RGF0YS5wcmV2SW5kZXggPSBvYmplY3REYXRhLmN1cnJlbnRJbmRleCAtIDE7XG5cdFx0XHRvYmplY3REYXRhLm5leHRJbmRleCA9IG9iamVjdERhdGEuY3VycmVudEluZGV4ICsgMTtcblxuXHRcdFx0cmV0dXJuIG9iamVjdERhdGE7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFByZWZpeGVzIGEgZGF0YSBhdHRyaWJ1dGUgbmFtZSB3aXRoIGRlZmluZWQgbmFtZSBmcm9tICdzZXR0aW5ncy5hdHRyUHJlZml4J1xuXHRcdCAqIHRvIGVuc3VyZSBtb3JlIHVuaXF1ZW5lc3MgZm9yIGFsbCBsaWdodGNhc2UgcmVsYXRlZC91c2VkIGF0dHJpYnV0ZXMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRuYW1lXG5cdFx0ICogQHJldHVyblx0e3N0cmluZ31cblx0XHQgKi9cblx0XHRfcHJlZml4QXR0cmlidXRlTmFtZTogZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdHJldHVybiAnZGF0YS0nICsgX3NlbGYuc2V0dGluZ3MuYXR0clByZWZpeCArIG5hbWU7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgdGhlIGxpbmsgdGFyZ2V0IGNvbnNpZGVyaW5nICdzZXR0aW5ncy5ocmVmJyBhbmQgZGF0YSBhdHRyaWJ1dGVzXG5cdFx0ICogYnV0IGFsc28gd2l0aCBhIGZhbGxiYWNrIHRvIHRoZSBkZWZhdWx0ICdocmVmJyB2YWx1ZS5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHtzdHJpbmd9XG5cdFx0ICovXG5cdFx0X2RldGVybWluZUxpbmtUYXJnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBfc2VsZi5zZXR0aW5ncy5ocmVmIHx8ICQoX3NlbGYub3JpZ2luKS5hdHRyKF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKCdocmVmJykpIHx8ICQoX3NlbGYub3JpZ2luKS5hdHRyKCdocmVmJyk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIERldGVybWluZXMgdGhlIGF0dHJpYnV0ZSBzZWxlY3RvciB0byB1c2UsIGRlcGVuZGluZyBvblxuXHRcdCAqIHdoZXRoZXIgY2F0ZWdvcml6ZWQgY29sbGVjdGlvbnMgYXJlIGJlZWluZyB1c2VkIG9yIG5vdC5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHtzdHJpbmd9XHRzZWxlY3RvclxuXHRcdCAqL1xuXHRcdF9kZXRlcm1pbmVBdHRyaWJ1dGVTZWxlY3RvcjogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyXHQkb3JpZ2luID0gJChfc2VsZi5vcmlnaW4pLFxuXHRcdFx0XHRzZWxlY3RvciA9ICcnO1xuXG5cdFx0XHRpZiAodHlwZW9mIF9zZWxmLmNhY2hlLnNlbGVjdG9yICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRzZWxlY3RvciA9IF9zZWxmLmNhY2hlLnNlbGVjdG9yO1xuXHRcdFx0fSBlbHNlIGlmIChfc2VsZi5zZXR0aW5ncy51c2VDYXRlZ29yaWVzID09PSB0cnVlICYmICRvcmlnaW4uYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnY2F0ZWdvcmllcycpKSkge1xuXHRcdFx0XHR2YXJcdGNhdGVnb3JpZXMgPSAkb3JpZ2luLmF0dHIoX3NlbGYuX3ByZWZpeEF0dHJpYnV0ZU5hbWUoJ2NhdGVnb3JpZXMnKSkuc3BsaXQoJyAnKTtcblxuXHRcdFx0XHQkLmVhY2goY2F0ZWdvcmllcywgZnVuY3Rpb24gKGluZGV4LCBjYXRlZ29yeSkge1xuXHRcdFx0XHRcdGlmIChpbmRleCA+IDApIHtcblx0XHRcdFx0XHRcdHNlbGVjdG9yICs9ICcsJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZWN0b3IgKz0gJ1snICsgX3NlbGYuX3ByZWZpeEF0dHJpYnV0ZU5hbWUoJ2NhdGVnb3JpZXMnKSArICd+PVwiJyArIGNhdGVnb3J5ICsgJ1wiXSc7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZWN0b3IgPSAnWycgKyBfc2VsZi5zZXR0aW5ncy5hdHRyICsgJz1cIicgKyAkb3JpZ2luLmF0dHIoX3NlbGYuc2V0dGluZ3MuYXR0cikgKyAnXCJdJztcblx0XHRcdH1cblxuXHRcdFx0X3NlbGYuY2FjaGUuc2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBEZXRlcm1pbmVzIHRoZSBjb3JyZWN0IHJlc291cmNlIGFjY29yZGluZyB0byB0aGVcblx0XHQgKiBjdXJyZW50IHZpZXdwb3J0IGFuZCBkZW5zaXR5LlxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3N0cmluZ31cdHVybFxuXHRcdCAqL1xuXHRcdF9kZXRlcm1pbmVVcmw6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhclx0ZGF0YVVybCA9IF9zZWxmLl92ZXJpZnlEYXRhVXJsKF9zZWxmLl9kZXRlcm1pbmVMaW5rVGFyZ2V0KCkpLFxuXHRcdFx0XHR3aWR0aCA9IDAsXG5cdFx0XHRcdGRlbnNpdHkgPSAwLFxuXHRcdFx0XHRzdXBwb3J0TGV2ZWwgPSAnJyxcblx0XHRcdFx0dXJsO1xuXG5cdFx0XHQkLmVhY2goZGF0YVVybCwgZnVuY3Rpb24gKGluZGV4LCBzcmMpIHtcblx0XHRcdFx0c3dpdGNoIChfc2VsZi5fdmVyaWZ5RGF0YVR5cGUoc3JjLnVybCkpIHtcblx0XHRcdFx0XHRjYXNlICd2aWRlbyc6XG5cdFx0XHRcdFx0XHR2YXJcdHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKSxcblx0XHRcdFx0XHRcdFx0dmlkZW9UeXBlID0gX3NlbGYuX3ZlcmlmeURhdGFUeXBlKHNyYy51cmwpICsgJy8nICsgX3NlbGYuX2dldEZpbGVVcmxTdWZmaXgoc3JjLnVybCk7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIGJyb3dzZXIgY2FuIHBsYXkgdGhpcyB0eXBlIG9mIHZpZGVvIGZvcm1hdFxuXHRcdFx0XHRcdFx0aWYgKHN1cHBvcnRMZXZlbCAhPT0gJ3Byb2JhYmx5JyAmJiBzdXBwb3J0TGV2ZWwgIT09IHZpZGVvLmNhblBsYXlUeXBlKHZpZGVvVHlwZSkgJiYgdmlkZW8uY2FuUGxheVR5cGUodmlkZW9UeXBlKSAhPT0gJycpIHtcblx0XHRcdFx0XHRcdFx0c3VwcG9ydExldmVsID0gdmlkZW8uY2FuUGxheVR5cGUodmlkZW9UeXBlKTtcblx0XHRcdFx0XHRcdFx0dXJsID0gc3JjLnVybDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGRlbnNpdHlcblx0XHRcdFx0XHRcdFx0X3NlbGYuX2RldmljZVBpeGVsUmF0aW8oKSA+PSBzcmMuZGVuc2l0eSAmJlxuXHRcdFx0XHRcdFx0XHRzcmMuZGVuc2l0eSA+PSBkZW5zaXR5ICYmXG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIHZpZXdwb3J0IHdpZHRoXG5cdFx0XHRcdFx0XHRcdF9zZWxmLl9tYXRjaE1lZGlhKCkoJ3NjcmVlbiBhbmQgKG1pbi13aWR0aDonICsgc3JjLndpZHRoICsgJ3B4KScpLm1hdGNoZXMgJiZcblx0XHRcdFx0XHRcdFx0c3JjLndpZHRoID49IHdpZHRoXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0d2lkdGggPSBzcmMud2lkdGg7XG5cdFx0XHRcdFx0XHRcdGRlbnNpdHkgPSBzcmMuZGVuc2l0eTtcblx0XHRcdFx0XHRcdFx0dXJsID0gc3JjLnVybDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIHVybDtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogTm9ybWFsaXplcyBhbiB1cmwgYW5kIHJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlc291cmNlIHBhdGgsXG5cdFx0ICogdGhlIHZpZXdwb3J0IHdpZHRoIGFzIHdlbGwgYXMgZGVuc2l0eSBpZiBkZWZpbmVkLlxuXHRcdCAqXG5cdFx0ICogQHBhcmFtXHR7c3RyaW5nfVx0dXJsXHRQYXRoIHRvIHJlc291cmNlIGluIGZvcm1hdCBvZiBhbiB1cmwgb3Igc3Jjc2V0XG5cdFx0ICogQHJldHVyblx0e29iamVjdH1cblx0XHQgKi9cblx0XHRfbm9ybWFsaXplVXJsOiBmdW5jdGlvbiAodXJsKSB7XG5cdFx0XHR2YXIgc3JjRXhwID0gL15cXGQrJC87XG5cblx0XHRcdHJldHVybiB1cmwuc3BsaXQoJywnKS5tYXAoZnVuY3Rpb24gKHN0cikge1xuXHRcdFx0XHR2YXIgc3JjID0ge1xuXHRcdFx0XHRcdHdpZHRoOiAwLFxuXHRcdFx0XHRcdGRlbnNpdHk6IDBcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRzdHIudHJpbSgpLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAodXJsLCBpKSB7XG5cdFx0XHRcdFx0aWYgKGkgPT09IDApIHtcblx0XHRcdFx0XHRcdHJldHVybiBzcmMudXJsID0gdXJsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciB2YWx1ZSA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxlbmd0aCAtIDEpLFxuXHRcdFx0XHRcdFx0bGFzdENoYXIgPSB1cmxbdXJsLmxlbmd0aCAtIDFdLFxuXHRcdFx0XHRcdFx0aW50VmFsID0gcGFyc2VJbnQodmFsdWUsIDEwKSxcblx0XHRcdFx0XHRcdGZsb2F0VmFsID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG5cdFx0XHRcdFx0aWYgKGxhc3RDaGFyID09PSAndycgJiYgc3JjRXhwLnRlc3QodmFsdWUpKSB7XG5cdFx0XHRcdFx0XHRzcmMud2lkdGggPSBpbnRWYWw7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChsYXN0Q2hhciA9PT0gJ2gnICYmIHNyY0V4cC50ZXN0KHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0c3JjLmhlaWdodCA9IGludFZhbDtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKGxhc3RDaGFyID09PSAneCcgJiYgIWlzTmFOKGZsb2F0VmFsKSkge1xuXHRcdFx0XHRcdFx0c3JjLmRlbnNpdHkgPSBmbG9hdFZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiBzcmM7XG5cdFx0XHR9KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVmVyaWZpZXMgaWYgdGhlIGxpbmsgaXMgcGFydCBvZiBhIHNlcXVlbmNlXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRyZWxcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRleHByZXNzaW9uXG5cdFx0ICogQHJldHVyblx0e2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0X2lzUGFydE9mU2VxdWVuY2U6IGZ1bmN0aW9uIChyZWwsIGV4cHJlc3Npb24pIHtcblx0XHRcdHZhciBnZXRTaW1pbGFyTGlua3MgPSAkKCdbJyArIF9zZWxmLnNldHRpbmdzLmF0dHIgKyAnPVwiJyArIHJlbCArICdcIl0nKSxcblx0XHRcdFx0cmVnZXhwID0gbmV3IFJlZ0V4cChleHByZXNzaW9uKTtcblxuXHRcdFx0cmV0dXJuIChyZWdleHAudGVzdChyZWwpICYmIGdldFNpbWlsYXJMaW5rcy5sZW5ndGggPiAxKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVmVyaWZpZXMgaWYgdGhlIHNsaWRlc2hvdyBzaG91bGQgYmUgZW5hYmxlZFxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0aXNTbGlkZXNob3dFbmFibGVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gKF9zZWxmLm9iamVjdERhdGEuaXNQYXJ0T2ZTZXF1ZW5jZSAmJiAoX3NlbGYuc2V0dGluZ3Muc2xpZGVzaG93ID09PSB0cnVlIHx8IF9zZWxmLm9iamVjdERhdGEuaXNQYXJ0T2ZTZXF1ZW5jZVdpdGhTbGlkZXNob3cgPT09IHRydWUpKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogTG9hZHMgdGhlIG5ldyBjb250ZW50IHRvIHNob3dcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF9sb2FkQ29udGVudDogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKF9zZWxmLmNhY2hlLm9yaWdpbmFsT2JqZWN0KSB7XG5cdFx0XHRcdF9zZWxmLl9yZXN0b3JlT2JqZWN0KCk7XG5cdFx0XHR9XG5cblx0XHRcdF9zZWxmLl9jcmVhdGVPYmplY3QoKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhIG5ldyBvYmplY3Rcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF9jcmVhdGVPYmplY3Q6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciAkb2JqZWN0O1xuXG5cdFx0XHQvLyBDcmVhdGUgb2JqZWN0XG5cdFx0XHRzd2l0Y2ggKF9zZWxmLm9iamVjdERhdGEudHlwZSkge1xuXHRcdFx0XHRjYXNlICdpbWFnZSc6XG5cdFx0XHRcdFx0JG9iamVjdCA9ICQobmV3IEltYWdlKCkpO1xuXHRcdFx0XHRcdCRvYmplY3QuYXR0cih7XG5cdFx0XHRcdFx0XHQvLyBUaGUgdGltZSBleHByZXNzaW9uIGlzIHJlcXVpcmVkIHRvIHByZXZlbnQgdGhlIGJpbmRpbmcgb2YgYW4gaW1hZ2UgbG9hZFxuXHRcdFx0XHRcdFx0J3NyYyc6IF9zZWxmLm9iamVjdERhdGEudXJsLFxuXHRcdFx0XHRcdFx0J2FsdCc6IF9zZWxmLm9iamVjdERhdGEudGl0bGVcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnaW5saW5lJzpcblx0XHRcdFx0XHQkb2JqZWN0ID0gJCgnPGRpdiBjbGFzcz1cIicgKyBfc2VsZi5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICdpbmxpbmVXcmFwXCI+PC9kaXY+Jyk7XG5cdFx0XHRcdFx0JG9iamVjdC5odG1sKF9zZWxmLl9jbG9uZU9iamVjdCgkKF9zZWxmLm9iamVjdERhdGEudXJsKSkpO1xuXG5cdFx0XHRcdFx0Ly8gQWRkIGN1c3RvbSBhdHRyaWJ1dGVzIGZyb20gX3NlbGYuc2V0dGluZ3Ncblx0XHRcdFx0XHQkLmVhY2goX3NlbGYuc2V0dGluZ3MuaW5saW5lLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdCRvYmplY3QuYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZShuYW1lKSwgdmFsdWUpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdhamF4Jzpcblx0XHRcdFx0XHQkb2JqZWN0ID0gJCgnPGRpdiBjbGFzcz1cIicgKyBfc2VsZi5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICdpbmxpbmVXcmFwXCI+PC9kaXY+Jyk7XG5cblx0XHRcdFx0XHQvLyBBZGQgY3VzdG9tIGF0dHJpYnV0ZXMgZnJvbSBfc2VsZi5zZXR0aW5nc1xuXHRcdFx0XHRcdCQuZWFjaChfc2VsZi5zZXR0aW5ncy5hamF4LCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGF0YScpIHtcblx0XHRcdFx0XHRcdFx0JG9iamVjdC5hdHRyKF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKG5hbWUpLCB2YWx1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2ZsYXNoJzpcblx0XHRcdFx0XHQkb2JqZWN0ID0gJCgnPGVtYmVkIHNyYz1cIicgKyBfc2VsZi5vYmplY3REYXRhLnVybCArICdcIiB0eXBlPVwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIj48L2VtYmVkPicpO1xuXG5cdFx0XHRcdFx0Ly8gQWRkIGN1c3RvbSBhdHRyaWJ1dGVzIGZyb20gX3NlbGYuc2V0dGluZ3Ncblx0XHRcdFx0XHQkLmVhY2goX3NlbGYuc2V0dGluZ3MuZmxhc2gsIGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0JG9iamVjdC5hdHRyKG5hbWUsIHZhbHVlKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAndmlkZW8nOlxuXHRcdFx0XHRcdCRvYmplY3QgPSAkKCc8dmlkZW8+PC92aWRlbz4nKTtcblx0XHRcdFx0XHQkb2JqZWN0LmF0dHIoJ3NyYycsIF9zZWxmLm9iamVjdERhdGEudXJsKTtcblxuXHRcdFx0XHRcdC8vIEFkZCBjdXN0b20gYXR0cmlidXRlcyBmcm9tIF9zZWxmLnNldHRpbmdzXG5cdFx0XHRcdFx0JC5lYWNoKF9zZWxmLnNldHRpbmdzLnZpZGVvLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdCRvYmplY3QuYXR0cihuYW1lLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0JG9iamVjdCA9ICQoJzxpZnJhbWU+PC9pZnJhbWU+Jyk7XG5cdFx0XHRcdFx0JG9iamVjdC5hdHRyKHtcblx0XHRcdFx0XHRcdCdzcmMnOiBfc2VsZi5vYmplY3REYXRhLnVybFxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Ly8gQWRkIGN1c3RvbSBhdHRyaWJ1dGVzIGZyb20gX3NlbGYuc2V0dGluZ3Ncblx0XHRcdFx0XHQkLmVhY2goX3NlbGYuc2V0dGluZ3MuaWZyYW1lLCBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcblx0XHRcdFx0XHRcdCRvYmplY3QuYXR0cihuYW1lLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdF9zZWxmLl9hZGRPYmplY3QoJG9iamVjdCk7XG5cdFx0XHRfc2VsZi5fbG9hZE9iamVjdCgkb2JqZWN0KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQWRkcyB0aGUgbmV3IG9iamVjdCB0byB0aGUgbWFya3VwXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtvYmplY3R9XHQkb2JqZWN0XG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X2FkZE9iamVjdDogZnVuY3Rpb24gKCRvYmplY3QpIHtcblx0XHRcdC8vIEFkZCBvYmplY3QgdG8gY29udGVudCBob2xkZXJcblx0XHRcdF9zZWxmLm9iamVjdHMuY29udGVudElubmVyLmh0bWwoJG9iamVjdCk7XG5cblx0XHRcdC8vIFN0YXJ0IGxvYWRpbmdcblx0XHRcdF9zZWxmLl9sb2FkaW5nKCdzdGFydCcpO1xuXG5cdFx0XHQvLyBDYWxsIG9uU3RhcnQgaG9vayBmdW5jdGlvbnNcblx0XHRcdF9zZWxmLl9jYWxsSG9va3MoX3NlbGYuc2V0dGluZ3Mub25TdGFydCk7XG5cblx0XHRcdC8vIEFkZCBzZXF1ZW5jZUluZm8gdG8gdGhlIGNvbnRlbnQgaG9sZGVyIG9yIGhpZGUgaWYgaXRzIGVtcHR5XG5cdFx0XHRpZiAoX3NlbGYuc2V0dGluZ3Muc2hvd1NlcXVlbmNlSW5mbyA9PT0gdHJ1ZSAmJiBfc2VsZi5vYmplY3REYXRhLmlzUGFydE9mU2VxdWVuY2UpIHtcblx0XHRcdFx0X3NlbGYub2JqZWN0cy5zZXF1ZW5jZUluZm8uaHRtbChfc2VsZi5vYmplY3REYXRhLnNlcXVlbmNlSW5mbyk7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMuc2VxdWVuY2VJbmZvLnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMuc2VxdWVuY2VJbmZvLmVtcHR5KCk7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMuc2VxdWVuY2VJbmZvLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdC8vIEFkZCB0aXRsZSB0byB0aGUgY29udGVudCBob2xkZXIgb3IgaGlkZSBpZiBpdHMgZW1wdHlcblx0XHRcdGlmIChfc2VsZi5zZXR0aW5ncy5zaG93VGl0bGUgPT09IHRydWUgJiYgX3NlbGYub2JqZWN0RGF0YS50aXRsZSAhPT0gdW5kZWZpbmVkICYmIF9zZWxmLm9iamVjdERhdGEudGl0bGUgIT09ICcnKSB7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMudGl0bGUuaHRtbChfc2VsZi5vYmplY3REYXRhLnRpdGxlKTtcblx0XHRcdFx0X3NlbGYub2JqZWN0cy50aXRsZS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLnRpdGxlLmVtcHR5KCk7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMudGl0bGUuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gQWRkIGNhcHRpb24gdG8gdGhlIGNvbnRlbnQgaG9sZGVyIG9yIGhpZGUgaWYgaXRzIGVtcHR5XG5cdFx0XHRpZiAoX3NlbGYuc2V0dGluZ3Muc2hvd0NhcHRpb24gPT09IHRydWUgJiYgX3NlbGYub2JqZWN0RGF0YS5jYXB0aW9uICE9PSB1bmRlZmluZWQgJiYgX3NlbGYub2JqZWN0RGF0YS5jYXB0aW9uICE9PSAnJykge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLmNhcHRpb24uaHRtbChfc2VsZi5vYmplY3REYXRhLmNhcHRpb24pO1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLmNhcHRpb24uc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0X3NlbGYub2JqZWN0cy5jYXB0aW9uLmVtcHR5KCk7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMuY2FwdGlvbi5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIExvYWRzIHRoZSBuZXcgb2JqZWN0XG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtvYmplY3R9XHQkb2JqZWN0XG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X2xvYWRPYmplY3Q6IGZ1bmN0aW9uICgkb2JqZWN0KSB7XG5cdFx0XHQvLyBMb2FkIHRoZSBvYmplY3Rcblx0XHRcdHN3aXRjaCAoX3NlbGYub2JqZWN0RGF0YS50eXBlKSB7XG5cdFx0XHRcdGNhc2UgJ2lubGluZSc6XG5cdFx0XHRcdFx0aWYgKCQoX3NlbGYub2JqZWN0RGF0YS51cmwpKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi5fc2hvd0NvbnRlbnQoJG9iamVjdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdF9zZWxmLmVycm9yKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdhamF4Jzpcblx0XHRcdFx0XHQkLmFqYXgoXG5cdFx0XHRcdFx0XHQkLmV4dGVuZCh7fSwgX3NlbGYuc2V0dGluZ3MuYWpheCwge1xuXHRcdFx0XHRcdFx0XHR1cmw6IF9zZWxmLm9iamVjdERhdGEudXJsLFxuXHRcdFx0XHRcdFx0XHR0eXBlOiBfc2VsZi5vYmplY3REYXRhLnJlcXVlc3RUeXBlLFxuXHRcdFx0XHRcdFx0XHRkYXRhVHlwZTogX3NlbGYub2JqZWN0RGF0YS5yZXF1ZXN0RGF0YVR5cGUsXG5cdFx0XHRcdFx0XHRcdGRhdGE6IF9zZWxmLm9iamVjdERhdGEucmVxdWVzdERhdGEsXG5cdFx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhLCB0ZXh0U3RhdHVzLCBqcVhIUikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIENoZWNrIGZvciBYLUFqYXgtTG9jYXRpb25cblx0XHRcdFx0XHRcdFx0XHRpZiAoanFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtQWpheC1Mb2NhdGlvbicpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfc2VsZi5vYmplY3REYXRhLnVybCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCdYLUFqYXgtTG9jYXRpb24nKTtcblx0XHRcdFx0XHRcdFx0XHRcdF9zZWxmLl9sb2FkT2JqZWN0KCRvYmplY3QpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFVuc2VyaWFsaXplIGlmIGRhdGEgaXMgdHJhbnNmZXJyZWQgYXMganNvblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKF9zZWxmLm9iamVjdERhdGEucmVxdWVzdERhdGFUeXBlID09PSAnanNvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0RGF0YS5kYXRhID0gZGF0YTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCRvYmplY3QuaHRtbChkYXRhKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdF9zZWxmLl9zaG93Q29udGVudCgkb2JqZWN0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7XG5cdFx0XHRcdFx0XHRcdFx0X3NlbGYuZXJyb3IoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdmbGFzaCc6XG5cdFx0XHRcdFx0X3NlbGYuX3Nob3dDb250ZW50KCRvYmplY3QpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICd2aWRlbyc6XG5cdFx0XHRcdFx0aWYgKHR5cGVvZigkb2JqZWN0LmdldCgwKS5jYW5QbGF5VHlwZSkgPT09ICdmdW5jdGlvbicgfHwgX3NlbGYub2JqZWN0cy5jYXNlLmZpbmQoJ3ZpZGVvJykubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi5fc2hvd0NvbnRlbnQoJG9iamVjdCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdF9zZWxmLmVycm9yKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGlmIChfc2VsZi5vYmplY3REYXRhLnVybCkge1xuXHRcdFx0XHRcdFx0JG9iamVjdC5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuX3Nob3dDb250ZW50KCRvYmplY3QpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQkb2JqZWN0Lm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuZXJyb3IoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRfc2VsZi5lcnJvcigpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVGhyb3dzIGFuIGVycm9yIG1lc3NhZ2UgaWYgc29tZXRoaW5nIHdlbnQgd3Jvbmdcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdGVycm9yOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRfc2VsZi5vYmplY3REYXRhLnR5cGUgPSAnZXJyb3InO1xuXHRcdFx0dmFyICRvYmplY3QgPSAkKCc8ZGl2IGNsYXNzPVwiJyArIF9zZWxmLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJ2lubGluZVdyYXBcIj48L2Rpdj4nKTtcblxuXHRcdFx0JG9iamVjdC5odG1sKF9zZWxmLnNldHRpbmdzLmVycm9yTWVzc2FnZSk7XG5cdFx0XHRfc2VsZi5vYmplY3RzLmNvbnRlbnRJbm5lci5odG1sKCRvYmplY3QpO1xuXG5cdFx0XHRfc2VsZi5fc2hvd0NvbnRlbnQoX3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDYWxjdWxhdGVzIHRoZSBkaW1lbnNpb25zIHRvIGZpdCBjb250ZW50XG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtvYmplY3R9XHQkb2JqZWN0XG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X2NhbGN1bGF0ZURpbWVuc2lvbnM6IGZ1bmN0aW9uICgkb2JqZWN0KSB7XG5cdFx0XHRfc2VsZi5fY2xlYW51cERpbWVuc2lvbnMoKTtcblxuXHRcdFx0aWYgKCEkb2JqZWN0KSByZXR1cm47XG5cblx0XHRcdC8vIFNldCBkZWZhdWx0IGRpbWVuc2lvbnNcblx0XHRcdHZhciBkaW1lbnNpb25zID0ge1xuXHRcdFx0XHRyYXRpbzogMSxcblx0XHRcdFx0b2JqZWN0V2lkdGg6ICRvYmplY3QuYXR0cignd2lkdGgnKSA/ICRvYmplY3QuYXR0cignd2lkdGgnKSA6ICRvYmplY3QuYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnd2lkdGgnKSksXG5cdFx0XHRcdG9iamVjdEhlaWdodDogJG9iamVjdC5hdHRyKCdoZWlnaHQnKSA/ICRvYmplY3QuYXR0cignaGVpZ2h0JykgOiAkb2JqZWN0LmF0dHIoX3NlbGYuX3ByZWZpeEF0dHJpYnV0ZU5hbWUoJ2hlaWdodCcpKVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKCFfc2VsZi5zZXR0aW5ncy5kaXNhYmxlU2hyaW5rKSB7XG5cdFx0XHRcdC8vIEFkZCBjYWxjdWxhdGVkIG1heGltdW0gd2lkdGgvaGVpZ2h0IHRvIGRpbWVuc2lvbnNcblx0XHRcdFx0ZGltZW5zaW9ucy5tYXhXaWR0aCA9IHBhcnNlSW50KF9zZWxmLmRpbWVuc2lvbnMud2luZG93V2lkdGggKiBfc2VsZi5zZXR0aW5ncy5zaHJpbmtGYWN0b3IpO1xuXHRcdFx0XHRkaW1lbnNpb25zLm1heEhlaWdodCA9IHBhcnNlSW50KF9zZWxmLmRpbWVuc2lvbnMud2luZG93SGVpZ2h0ICogX3NlbGYuc2V0dGluZ3Muc2hyaW5rRmFjdG9yKTtcblxuXHRcdFx0XHQvLyBJZiB0aGUgYXV0byBjYWxjdWxhdGVkIG1heFdpZHRoL21heEhlaWdodCBncmVhdGhlciB0aGFuIHRoZSB1c2VyLWRlZmluZWQgb25lLCB1c2UgdGhhdC5cblx0XHRcdFx0aWYgKGRpbWVuc2lvbnMubWF4V2lkdGggPiBfc2VsZi5zZXR0aW5ncy5tYXhXaWR0aCkge1xuXHRcdFx0XHRcdGRpbWVuc2lvbnMubWF4V2lkdGggPSBfc2VsZi5zZXR0aW5ncy5tYXhXaWR0aDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZGltZW5zaW9ucy5tYXhIZWlnaHQgPiBfc2VsZi5zZXR0aW5ncy5tYXhIZWlnaHQpIHtcblx0XHRcdFx0XHRkaW1lbnNpb25zLm1heEhlaWdodCA9IF9zZWxmLnNldHRpbmdzLm1heEhlaWdodDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHNjcmVlbiB3aWR0aC9oZWlnaHQgYW5kIGltYWdlIHdpZHRoL2hlaWdodFxuXHRcdFx0XHRkaW1lbnNpb25zLmRpZmZlcmVuY2VXaWR0aEFzUGVyY2VudCA9IHBhcnNlSW50KDEwMCAvIGRpbWVuc2lvbnMubWF4V2lkdGggKiBkaW1lbnNpb25zLm9iamVjdFdpZHRoKTtcblx0XHRcdFx0ZGltZW5zaW9ucy5kaWZmZXJlbmNlSGVpZ2h0QXNQZXJjZW50ID0gcGFyc2VJbnQoMTAwIC8gZGltZW5zaW9ucy5tYXhIZWlnaHQgKiBkaW1lbnNpb25zLm9iamVjdEhlaWdodCk7XG5cblx0XHRcdFx0c3dpdGNoIChfc2VsZi5vYmplY3REYXRhLnR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdpbWFnZSc6XG5cdFx0XHRcdFx0Y2FzZSAnZmxhc2gnOlxuXHRcdFx0XHRcdGNhc2UgJ3ZpZGVvJzpcblx0XHRcdFx0XHRjYXNlICdpZnJhbWUnOlxuXHRcdFx0XHRcdGNhc2UgJ2FqYXgnOlxuXHRcdFx0XHRcdGNhc2UgJ2lubGluZSc6XG5cdFx0XHRcdFx0XHRpZiAoX3NlbGYub2JqZWN0RGF0YS50eXBlID09PSAnaW1hZ2UnIHx8IF9zZWxmLnNldHRpbmdzLmZpeGVkUmF0aW8gPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGRpbWVuc2lvbnMuZGlmZmVyZW5jZVdpZHRoQXNQZXJjZW50ID4gMTAwICYmIGRpbWVuc2lvbnMuZGlmZmVyZW5jZVdpZHRoQXNQZXJjZW50ID4gZGltZW5zaW9ucy5kaWZmZXJlbmNlSGVpZ2h0QXNQZXJjZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGltZW5zaW9ucy5vYmplY3RXaWR0aCA9IGRpbWVuc2lvbnMubWF4V2lkdGg7XG5cdFx0XHRcdFx0XHRcdFx0ZGltZW5zaW9ucy5vYmplY3RIZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLm9iamVjdEhlaWdodCAvIGRpbWVuc2lvbnMuZGlmZmVyZW5jZVdpZHRoQXNQZXJjZW50ICogMTAwKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoZGltZW5zaW9ucy5kaWZmZXJlbmNlSGVpZ2h0QXNQZXJjZW50ID4gMTAwICYmIGRpbWVuc2lvbnMuZGlmZmVyZW5jZUhlaWdodEFzUGVyY2VudCA+IGRpbWVuc2lvbnMuZGlmZmVyZW5jZVdpZHRoQXNQZXJjZW50KSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGltZW5zaW9ucy5vYmplY3RXaWR0aCA9IHBhcnNlSW50KGRpbWVuc2lvbnMub2JqZWN0V2lkdGggLyBkaW1lbnNpb25zLmRpZmZlcmVuY2VIZWlnaHRBc1BlcmNlbnQgKiAxMDApO1xuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnMub2JqZWN0SGVpZ2h0ID0gZGltZW5zaW9ucy5tYXhIZWlnaHQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGRpbWVuc2lvbnMuZGlmZmVyZW5jZUhlaWdodEFzUGVyY2VudCA+IDEwMCAmJiBkaW1lbnNpb25zLmRpZmZlcmVuY2VXaWR0aEFzUGVyY2VudCA8IGRpbWVuc2lvbnMuZGlmZmVyZW5jZUhlaWdodEFzUGVyY2VudCkge1xuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnMub2JqZWN0V2lkdGggPSBwYXJzZUludChkaW1lbnNpb25zLm1heFdpZHRoIC8gZGltZW5zaW9ucy5kaWZmZXJlbmNlSGVpZ2h0QXNQZXJjZW50ICogZGltZW5zaW9ucy5kaWZmZXJlbmNlV2lkdGhBc1BlcmNlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdGRpbWVuc2lvbnMub2JqZWN0SGVpZ2h0ID0gZGltZW5zaW9ucy5tYXhIZWlnaHQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y2FzZSAnZXJyb3InOlxuXHRcdFx0XHRcdFx0aWYgKCFpc05hTihkaW1lbnNpb25zLm9iamVjdFdpZHRoKSAmJiBkaW1lbnNpb25zLm9iamVjdFdpZHRoID4gZGltZW5zaW9ucy5tYXhXaWR0aCkge1xuXHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zLm9iamVjdFdpZHRoID0gZGltZW5zaW9ucy5tYXhXaWR0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRpZiAoKGlzTmFOKGRpbWVuc2lvbnMub2JqZWN0V2lkdGgpIHx8IGRpbWVuc2lvbnMub2JqZWN0V2lkdGggPiBkaW1lbnNpb25zLm1heFdpZHRoKSAmJiAhX3NlbGYuc2V0dGluZ3MuZm9yY2VXaWR0aCkge1xuXHRcdFx0XHRcdFx0XHRkaW1lbnNpb25zLm9iamVjdFdpZHRoID0gZGltZW5zaW9ucy5tYXhXaWR0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICgoKGlzTmFOKGRpbWVuc2lvbnMub2JqZWN0SGVpZ2h0KSAmJiBkaW1lbnNpb25zLm9iamVjdEhlaWdodCAhPT0gJ2F1dG8nKSB8fCBkaW1lbnNpb25zLm9iamVjdEhlaWdodCA+IGRpbWVuc2lvbnMubWF4SGVpZ2h0KSAmJiAhX3NlbGYuc2V0dGluZ3MuZm9yY2VIZWlnaHQpIHtcblx0XHRcdFx0XHRcdFx0ZGltZW5zaW9ucy5vYmplY3RIZWlnaHQgPSBkaW1lbnNpb25zLm1heEhlaWdodDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChfc2VsZi5zZXR0aW5ncy5mb3JjZVdpZHRoKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZGltZW5zaW9ucy5vYmplY3RXaWR0aCA9IF9zZWxmLnNldHRpbmdzW19zZWxmLm9iamVjdERhdGEudHlwZV0ud2lkdGg7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRkaW1lbnNpb25zLm9iamVjdFdpZHRoID0gX3NlbGYuc2V0dGluZ3Mud2lkdGggfHwgZGltZW5zaW9ucy5vYmplY3RXaWR0aDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpbWVuc2lvbnMubWF4V2lkdGggPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCRvYmplY3QuYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnbWF4LXdpZHRoJykpKSB7XG5cdFx0XHRcdGRpbWVuc2lvbnMubWF4V2lkdGggPSAkb2JqZWN0LmF0dHIoX3NlbGYuX3ByZWZpeEF0dHJpYnV0ZU5hbWUoJ21heC13aWR0aCcpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKF9zZWxmLnNldHRpbmdzLmZvcmNlSGVpZ2h0KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0ZGltZW5zaW9ucy5vYmplY3RIZWlnaHQgPSBfc2VsZi5zZXR0aW5nc1tfc2VsZi5vYmplY3REYXRhLnR5cGVdLmhlaWdodDtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdGRpbWVuc2lvbnMub2JqZWN0SGVpZ2h0ID0gX3NlbGYuc2V0dGluZ3MuaGVpZ2h0IHx8IGRpbWVuc2lvbnMub2JqZWN0SGVpZ2h0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGltZW5zaW9ucy5tYXhIZWlnaHQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCRvYmplY3QuYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnbWF4LWhlaWdodCcpKSkge1xuXHRcdFx0XHRkaW1lbnNpb25zLm1heEhlaWdodCA9ICRvYmplY3QuYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnbWF4LWhlaWdodCcpKTtcblx0XHRcdH1cblx0XHRcdF9zZWxmLl9hZGp1c3REaW1lbnNpb25zKCRvYmplY3QsIGRpbWVuc2lvbnMpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBBZGp1c3RzIHRoZSBkaW1lbnNpb25zXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtvYmplY3R9XHQkb2JqZWN0XG5cdFx0ICogQHBhcmFtXHR7b2JqZWN0fVx0ZGltZW5zaW9uc1xuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF9hZGp1c3REaW1lbnNpb25zOiBmdW5jdGlvbiAoJG9iamVjdCwgZGltZW5zaW9ucykge1xuXHRcdFx0Ly8gQWRqdXN0IHdpZHRoIGFuZCBoZWlnaHRcblx0XHRcdCRvYmplY3QuY3NzKHtcblx0XHRcdFx0J3dpZHRoJzogZGltZW5zaW9ucy5vYmplY3RXaWR0aCxcblx0XHRcdFx0J2hlaWdodCc6IGRpbWVuc2lvbnMub2JqZWN0SGVpZ2h0LFxuXHRcdFx0XHQnbWF4LXdpZHRoJzogZGltZW5zaW9ucy5tYXhXaWR0aCxcblx0XHRcdFx0J21heC1oZWlnaHQnOiBkaW1lbnNpb25zLm1heEhlaWdodFxuXHRcdFx0fSk7XG5cblx0XHRcdF9zZWxmLm9iamVjdHMuY29udGVudElubmVyLmNzcyh7XG5cdFx0XHRcdCd3aWR0aCc6ICRvYmplY3Qub3V0ZXJXaWR0aCgpLFxuXHRcdFx0XHQnaGVpZ2h0JzogJG9iamVjdC5vdXRlckhlaWdodCgpLFxuXHRcdFx0XHQnbWF4LXdpZHRoJzogJzEwMCUnXG5cdFx0XHR9KTtcblxuXHRcdFx0X3NlbGYub2JqZWN0cy5jYXNlLmNzcyh7XG5cdFx0XHRcdCd3aWR0aCc6IF9zZWxmLm9iamVjdHMuY29udGVudElubmVyLm91dGVyV2lkdGgoKSxcblx0XHRcdFx0J21heC13aWR0aCc6ICcxMDAlJ1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFkanVzdCBtYXJnaW5cblx0XHRcdF9zZWxmLm9iamVjdHMuY2FzZS5jc3Moe1xuXHRcdFx0XHQnbWFyZ2luLXRvcCc6IHBhcnNlSW50KC0oX3NlbGYub2JqZWN0cy5jYXNlLm91dGVySGVpZ2h0KCkgLyAyKSksXG5cdFx0XHRcdCdtYXJnaW4tbGVmdCc6IHBhcnNlSW50KC0oX3NlbGYub2JqZWN0cy5jYXNlLm91dGVyV2lkdGgoKSAvIDIpKVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEhhbmRsZXMgdGhlIF9sb2FkaW5nXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRwcm9jZXNzXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X2xvYWRpbmc6IGZ1bmN0aW9uIChwcm9jZXNzKSB7XG5cdFx0XHRpZiAocHJvY2VzcyA9PT0gJ3N0YXJ0Jykge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLmNhc2UuYWRkQ2xhc3MoX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnbG9hZGluZycpO1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLmxvYWRpbmcuc2hvdygpO1xuXHRcdFx0fSBlbHNlIGlmIChwcm9jZXNzID09PSAnZW5kJykge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLmNhc2UucmVtb3ZlQ2xhc3MoX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnbG9hZGluZycpO1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLmxvYWRpbmcuaGlkZSgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIEdldHMgdGhlIGNsaWVudCBzY3JlZW4gZGltZW5zaW9uc1xuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e29iamVjdH1cdGRpbWVuc2lvbnNcblx0XHQgKi9cblx0XHRnZXRWaWV3cG9ydERpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHdpbmRvd1dpZHRoOiAkKHdpbmRvdykuaW5uZXJXaWR0aCgpLFxuXHRcdFx0XHR3aW5kb3dIZWlnaHQ6ICQod2luZG93KS5pbm5lckhlaWdodCgpXG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBWZXJpZmllcyB0aGUgdXJsXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRkYXRhVXJsXG5cdFx0ICogQHJldHVyblx0e29iamVjdH1cdGRhdGFVcmxcdENsZWFuIHVybCBmb3IgcHJvY2Vzc2luZyBjb250ZW50XG5cdFx0ICovXG5cdFx0X3ZlcmlmeURhdGFVcmw6IGZ1bmN0aW9uIChkYXRhVXJsKSB7XG5cdFx0XHRpZiAoIWRhdGFVcmwgfHwgZGF0YVVybCA9PT0gdW5kZWZpbmVkIHx8IGRhdGFVcmwgPT09ICcnKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGRhdGFVcmwuaW5kZXhPZignIycpID4gLTEpIHtcblx0XHRcdFx0ZGF0YVVybCA9IGRhdGFVcmwuc3BsaXQoJyMnKTtcblx0XHRcdFx0ZGF0YVVybCA9ICcjJyArIGRhdGFVcmxbZGF0YVVybC5sZW5ndGggLSAxXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIF9zZWxmLl9ub3JtYWxpemVVcmwoZGF0YVVybC50b1N0cmluZygpKTtcblx0XHR9LFxuXG5cdFx0XHQvL1xuXHRcdC8qKlxuXHRcdCAqIFRyaWVzIHRvIGdldCB0aGUgKGZpbGUpIHN1ZmZpeCBvZiBhbiB1cmxcblx0XHQgKlxuXHRcdCAqIEBwYXJhbVx0e3N0cmluZ31cdHVybFxuXHRcdCAqIEByZXR1cm5cdHtzdHJpbmd9XG5cdFx0ICovXG5cdFx0X2dldEZpbGVVcmxTdWZmaXg6IGZ1bmN0aW9uICh1cmwpIHtcblx0XHRcdHZhciByZSA9IC8oPzpcXC4oW14uXSspKT8kLztcblx0XHRcdHJldHVybiByZS5leGVjKHVybC50b0xvd2VyQ2FzZSgpKVsxXTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogVmVyaWZpZXMgdGhlIGRhdGEgdHlwZSBvZiB0aGUgY29udGVudCB0byBsb2FkXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHRcdFx0dXJsXG5cdFx0ICogQHJldHVyblx0e3N0cmluZ3xib29sZWFufVx0QXJyYXkga2V5IGlmIGV4cHJlc3Npb24gbWF0Y2hlZCwgZWxzZSBmYWxzZVxuXHRcdCAqL1xuXHRcdF92ZXJpZnlEYXRhVHlwZTogZnVuY3Rpb24gKHVybCkge1xuXHRcdFx0dmFyIHR5cGVNYXBwaW5nID0gX3NlbGYuc2V0dGluZ3MudHlwZU1hcHBpbmc7XG5cblx0XHRcdC8vIEVhcmx5IGFib3J0IGlmIGRhdGFVcmwgY291bGRuJ3QgYmUgdmVyaWZpZWRcblx0XHRcdGlmICghdXJsKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVmVyaWZ5IHRoZSBkYXRhVHlwZSBvZiB1cmwgYWNjb3JkaW5nIHRvIHR5cGVNYXBwaW5nIHdoaWNoXG5cdFx0XHQvLyBoYXMgYmVlbiBkZWZpbmVkIGluIHNldHRpbmdzLlxuXHRcdFx0Zm9yICh2YXIga2V5IGluIHR5cGVNYXBwaW5nKSB7XG5cdFx0XHRcdGlmICh0eXBlTWFwcGluZy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0dmFyIHN1ZmZpeEFyciA9IHR5cGVNYXBwaW5nW2tleV0uc3BsaXQoJywnKTtcblxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3VmZml4QXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHR2YXIgc3VmZml4ID0gc3VmZml4QXJyW2ldLnRvTG93ZXJDYXNlKCksXG5cdFx0XHRcdFx0XHRcdHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ1xcLignICsgc3VmZml4ICsgJykkJywgJ2knKSxcblx0XHRcdFx0XHRcdFx0c3RyID0gdXJsLnRvTG93ZXJDYXNlKCkuc3BsaXQoJz8nKVswXS5zdWJzdHIoLTUpO1xuXG5cdFx0XHRcdFx0XHRpZiAocmVnZXhwLnRlc3Qoc3RyKSA9PT0gdHJ1ZSB8fCAoa2V5ID09PSAnaW5saW5lJyAmJiAodXJsLmluZGV4T2Yoc3VmZml4KSA+IC0xKSkpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGtleTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgbm8gZXhwcmVzc2lvbiBtYXRjaGVkLCByZXR1cm4gJ2lmcmFtZScuXG5cdFx0XHRyZXR1cm4gJ2lmcmFtZSc7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEV4dGVuZHMgaHRtbCBtYXJrdXAgd2l0aCB0aGUgZXNzZW50aWFsIHRhZ3Ncblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF9hZGRFbGVtZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHR5cGVvZiBfc2VsZi5vYmplY3RzLmNhc2UgIT09ICd1bmRlZmluZWQnICYmICQoJyMnICsgX3NlbGYub2JqZWN0cy5jYXNlLmF0dHIoJ2lkJykpLmxlbmd0aCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdF9zZWxmLnNldHRpbmdzLm1hcmt1cCgpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBTaG93cyB0aGUgbG9hZGVkIGNvbnRlbnRcblx0XHQgKlxuXHRcdCAqIEBwYXJhbVx0e29iamVjdH1cdCRvYmplY3Rcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfc2hvd0NvbnRlbnQ6IGZ1bmN0aW9uICgkb2JqZWN0KSB7XG5cdFx0XHQvLyBBZGQgZGF0YSBhdHRyaWJ1dGUgd2l0aCB0aGUgb2JqZWN0IHR5cGVcblx0XHRcdF9zZWxmLm9iamVjdHMuZG9jdW1lbnQuYXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgndHlwZScpLCBfc2VsZi5vYmplY3REYXRhLnR5cGUpO1xuXG5cdFx0XHRfc2VsZi5jYWNoZS5vYmplY3QgPSAkb2JqZWN0O1xuXG5cdFx0XHQvLyBDYWxsIG9uQmVmb3JlU2hvdyBob29rIGZ1bmN0aW9uc1xuXHRcdFx0X3NlbGYuX2NhbGxIb29rcyhfc2VsZi5zZXR0aW5ncy5vbkJlZm9yZVNob3cpO1xuXG5cdFx0XHRpZiAoX3NlbGYuc2V0dGluZ3MuYnJlYWtCZWZvcmVTaG93KSByZXR1cm47XG5cdFx0XHRfc2VsZi5zaG93KCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFN0YXJ0cyB0aGUgJ2luVHJhbnNpdGlvbidcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfc3RhcnRJblRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcblx0XHRcdHN3aXRjaCAoX3NlbGYudHJhbnNpdGlvbi5pbigpKSB7XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbFRvcCc6XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbFJpZ2h0Jzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsQm90dG9tJzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsTGVmdCc6XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbEhvcml6b250YWwnOlxuXHRcdFx0XHRjYXNlICdzY3JvbGxWZXJ0aWNhbCc6XG5cdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi5zY3JvbGwoX3NlbGYub2JqZWN0cy5jYXNlLCAnaW4nLCBfc2VsZi5zZXR0aW5ncy5zcGVlZEluKTtcblx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIsICdpbicsIF9zZWxmLnNldHRpbmdzLnNwZWVkSW4pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdlbGFzdGljJzpcblx0XHRcdFx0XHRpZiAoX3NlbGYub2JqZWN0cy5jYXNlLmNzcygnb3BhY2l0eScpIDwgMSkge1xuXHRcdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi56b29tKF9zZWxmLm9iamVjdHMuY2FzZSwgJ2luJywgX3NlbGYuc2V0dGluZ3Muc3BlZWRJbik7XG5cdFx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIsICdpbicsIF9zZWxmLnNldHRpbmdzLnNwZWVkSW4pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNhc2UgJ2ZhZGUnOlxuXHRcdFx0XHRjYXNlICdmYWRlSW5saW5lJzpcblx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jYXNlLCAnaW4nLCBfc2VsZi5zZXR0aW5ncy5zcGVlZEluKTtcblx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIsICdpbicsIF9zZWxmLnNldHRpbmdzLnNwZWVkSW4pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdF9zZWxmLnRyYW5zaXRpb24uZmFkZShfc2VsZi5vYmplY3RzLmNhc2UsICdpbicsIDApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBFbmQgbG9hZGluZy5cblx0XHRcdF9zZWxmLl9sb2FkaW5nKCdlbmQnKTtcblx0XHRcdF9zZWxmLmlzQnVzeSA9IGZhbHNlO1xuXG5cdFx0XHQvLyBTZXQgaW5kZXggb2YgdGhlIGZpcnN0IGl0ZW0gb3BlbmVkXG5cdFx0XHRpZiAoIV9zZWxmLmNhY2hlLmZpcnN0T3BlbmVkKSB7XG5cdFx0XHRcdF9zZWxmLmNhY2hlLmZpcnN0T3BlbmVkID0gX3NlbGYub2JqZWN0RGF0YS50aGlzO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGYWRlIGluIHRoZSBpbmZvIHdpdGggZGVsYXlcblx0XHRcdF9zZWxmLm9iamVjdHMuaW5mby5oaWRlKCk7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0IF9zZWxmLnRyYW5zaXRpb24uZmFkZShfc2VsZi5vYmplY3RzLmluZm8sICdpbicsIF9zZWxmLnNldHRpbmdzLnNwZWVkSW4pO1xuXHRcdFx0fSwgX3NlbGYuc2V0dGluZ3Muc3BlZWRJbik7XG5cblx0XHRcdC8vIENhbGwgb25GaW5pc2ggaG9vayBmdW5jdGlvbnNcblx0XHRcdF9zZWxmLl9jYWxsSG9va3MoX3NlbGYuc2V0dGluZ3Mub25GaW5pc2gpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBQcm9jZXNzZXMgdGhlIGNvbnRlbnQgdG8gc2hvd1xuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X3Byb2Nlc3NDb250ZW50OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRfc2VsZi5pc0J1c3kgPSB0cnVlO1xuXG5cdFx0XHQvLyBGYWRlIG91dCB0aGUgaW5mbyBhdCBmaXJzdFxuXHRcdFx0X3NlbGYudHJhbnNpdGlvbi5mYWRlKF9zZWxmLm9iamVjdHMuaW5mbywgJ291dCcsIDApO1xuXG5cdFx0XHRzd2l0Y2ggKF9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb25PdXQpIHtcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsVG9wJzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsUmlnaHQnOlxuXHRcdFx0XHRjYXNlICdzY3JvbGxCb3R0b20nOlxuXHRcdFx0XHRjYXNlICdzY3JvbGxMZWZ0Jzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsVmVydGljYWwnOlxuXHRcdFx0XHRjYXNlICdzY3JvbGxIb3Jpem9udGFsJzpcblx0XHRcdFx0XHRpZiAoX3NlbGYub2JqZWN0cy5jYXNlLmlzKCc6aGlkZGVuJykpIHtcblx0XHRcdFx0XHRcdF9zZWxmLnRyYW5zaXRpb24uZmFkZShfc2VsZi5vYmplY3RzLmNvbnRlbnRJbm5lciwgJ291dCcsIDApO1xuXHRcdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi5mYWRlKF9zZWxmLm9iamVjdHMuY2FzZSwgJ291dCcsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuX2xvYWRDb250ZW50KCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi5zY3JvbGwoX3NlbGYub2JqZWN0cy5jYXNlLCAnb3V0JywgX3NlbGYuc2V0dGluZ3Muc3BlZWRPdXQsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuX2xvYWRDb250ZW50KCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2ZhZGUnOlxuXHRcdFx0XHRcdGlmIChfc2VsZi5vYmplY3RzLmNhc2UuaXMoJzpoaWRkZW4nKSkge1xuXHRcdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi5mYWRlKF9zZWxmLm9iamVjdHMuY2FzZSwgJ291dCcsIDAsIDAsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuX2xvYWRDb250ZW50KCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi5mYWRlKF9zZWxmLm9iamVjdHMuY2FzZSwgJ291dCcsIF9zZWxmLnNldHRpbmdzLnNwZWVkT3V0LCAwLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdF9zZWxmLl9sb2FkQ29udGVudCgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdmYWRlSW5saW5lJzpcblx0XHRcdFx0Y2FzZSAnZWxhc3RpYyc6XG5cdFx0XHRcdFx0aWYgKF9zZWxmLm9iamVjdHMuY2FzZS5pcygnOmhpZGRlbicpKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jYXNlLCAnb3V0JywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRfc2VsZi5fbG9hZENvbnRlbnQoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIsICdvdXQnLCBfc2VsZi5zZXR0aW5ncy5zcGVlZE91dCwgMCwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRfc2VsZi5fbG9hZENvbnRlbnQoKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jYXNlLCAnb3V0JywgMCwgMCwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0X3NlbGYuX2xvYWRDb250ZW50KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEhhbmRsZXMgZXZlbnRzIGZvciBnYWxsZXJ5IGJ1dHRvbnNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF9oYW5kbGVFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdF9zZWxmLl91bmJpbmRFdmVudHMoKTtcblxuXHRcdFx0X3NlbGYub2JqZWN0cy5uYXYuY2hpbGRyZW4oKS5ub3QoX3NlbGYub2JqZWN0cy5jbG9zZSkuaGlkZSgpO1xuXG5cdFx0XHQvLyBJZiBzbGlkZXNob3cgaXMgZW5hYmxlZCwgc2hvdyBwbGF5L3BhdXNlIGFuZCBzdGFydCB0aW1lb3V0LlxuXHRcdFx0aWYgKF9zZWxmLmlzU2xpZGVzaG93RW5hYmxlZCgpKSB7XG5cdFx0XHRcdC8vIE9ubHkgc3RhcnQgdGhlIHRpbWVvdXQgaWYgc2xpZGVzaG93IGF1dG9zdGFydCBpcyBlbmFibGVkIGFuZCBzbGlkZXNob3cgaXMgbm90IHBhdXNpbmdcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdChfc2VsZi5zZXR0aW5ncy5zbGlkZXNob3dBdXRvU3RhcnQgPT09IHRydWUgfHwgX3NlbGYuaXNTbGlkZXNob3dTdGFydGVkKSAmJlxuXHRcdFx0XHRcdCFfc2VsZi5vYmplY3RzLm5hdi5oYXNDbGFzcyhfc2VsZi5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICdwYXVzZWQnKVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRfc2VsZi5fc3RhcnRUaW1lb3V0KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0X3NlbGYuX3N0b3BUaW1lb3V0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKF9zZWxmLnNldHRpbmdzLmxpdmVSZXNpemUpIHtcblx0XHRcdFx0X3NlbGYuX3dhdGNoUmVzaXplSW50ZXJhY3Rpb24oKTtcblx0XHRcdH1cblxuXHRcdFx0X3NlbGYub2JqZWN0cy5jbG9zZS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0X3NlbGYuY2xvc2UoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoX3NlbGYuc2V0dGluZ3MuY2xvc2VPbk92ZXJsYXlDbGljayA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLm92ZXJsYXkuY3NzKCdjdXJzb3InLCAncG9pbnRlcicpLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRfc2VsZi5jbG9zZSgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKF9zZWxmLnNldHRpbmdzLnVzZUtleXMgPT09IHRydWUpIHtcblx0XHRcdFx0X3NlbGYuX2FkZEtleUV2ZW50cygpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoX3NlbGYub2JqZWN0RGF0YS5pc1BhcnRPZlNlcXVlbmNlKSB7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMubmF2LmF0dHIoX3NlbGYuX3ByZWZpeEF0dHJpYnV0ZU5hbWUoJ2lzcGFydG9mc2VxdWVuY2UnKSwgdHJ1ZSk7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMubmF2LmRhdGEoJ2l0ZW1zJywgX3NlbGYuX3NldE5hdmlnYXRpb24oKSk7XG5cblx0XHRcdFx0X3NlbGYub2JqZWN0cy5wcmV2LmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRcdFx0XHRpZiAoX3NlbGYuc2V0dGluZ3MubmF2aWdhdGVFbmRsZXNzID09PSB0cnVlIHx8ICFfc2VsZi5pdGVtLmlzRmlyc3QoKSkge1xuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5wcmV2LnVuYmluZCgnY2xpY2snKTtcblx0XHRcdFx0XHRcdF9zZWxmLmNhY2hlLmFjdGlvbiA9ICdwcmV2Jztcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMubmF2LmRhdGEoJ2l0ZW1zJykucHJldi5jbGljaygpO1xuXG5cdFx0XHRcdFx0XHRpZiAoX3NlbGYuaXNTbGlkZXNob3dFbmFibGVkKCkpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuX3N0b3BUaW1lb3V0KCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRfc2VsZi5vYmplY3RzLm5leHQuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuXHRcdFx0XHRcdGlmIChfc2VsZi5zZXR0aW5ncy5uYXZpZ2F0ZUVuZGxlc3MgPT09IHRydWUgfHwgIV9zZWxmLml0ZW0uaXNMYXN0KCkpIHtcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMubmV4dC51bmJpbmQoJ2NsaWNrJyk7XG5cdFx0XHRcdFx0XHRfc2VsZi5jYWNoZS5hY3Rpb24gPSAnbmV4dCc7XG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLm5hdi5kYXRhKCdpdGVtcycpLm5leHQuY2xpY2soKTtcblxuXHRcdFx0XHRcdFx0aWYgKF9zZWxmLmlzU2xpZGVzaG93RW5hYmxlZCgpKSB7XG5cdFx0XHRcdFx0XHRcdF9zZWxmLl9zdG9wVGltZW91dCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKF9zZWxmLmlzU2xpZGVzaG93RW5hYmxlZCgpKSB7XG5cdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5wbGF5LmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdF9zZWxmLl9zdGFydFRpbWVvdXQoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLnBhdXNlLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xuXHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdF9zZWxmLl9zdG9wVGltZW91dCgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRW5hYmxlIHN3aXBpbmcgaWYgYWN0aXZhdGVkXG5cdFx0XHRcdGlmIChfc2VsZi5zZXR0aW5ncy5zd2lwZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGlmICgkLmlzUGxhaW5PYmplY3QoJC5ldmVudC5zcGVjaWFsLnN3aXBlbGVmdCkpIHtcblx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMuY2FzZS5vbignc3dpcGVsZWZ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMubmV4dC5jbGljaygpO1xuXHRcdFx0XHRcdFx0XHRpZiAoX3NlbGYuaXNTbGlkZXNob3dFbmFibGVkKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRfc2VsZi5fc3RvcFRpbWVvdXQoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICgkLmlzUGxhaW5PYmplY3QoJC5ldmVudC5zcGVjaWFsLnN3aXBlcmlnaHQpKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLmNhc2Uub24oJ3N3aXBlcmlnaHQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5wcmV2LmNsaWNrKCk7XG5cdFx0XHRcdFx0XHRcdGlmIChfc2VsZi5pc1NsaWRlc2hvd0VuYWJsZWQoKSkge1xuXHRcdFx0XHRcdFx0XHRcdF9zZWxmLl9zdG9wVGltZW91dCgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQWRkcyB0aGUga2V5IGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X2FkZEtleUV2ZW50czogZnVuY3Rpb24gKCkge1xuXHRcdFx0JChkb2N1bWVudCkuYmluZCgna2V5dXAubGlnaHRjYXNlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0XHRcdC8vIERvIG5vdGhpbmcgaWYgbGlnaHRjYXNlIGlzIGluIHByb2Nlc3Ncblx0XHRcdFx0aWYgKF9zZWxmLmlzQnVzeSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuXHRcdFx0XHRcdC8vIEVzY2FwZSBrZXlcblx0XHRcdFx0XHRjYXNlIDI3OlxuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5jbG9zZS5jbGljaygpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Ly8gQmFja3dhcmQga2V5XG5cdFx0XHRcdFx0Y2FzZSAzNzpcblx0XHRcdFx0XHRcdGlmIChfc2VsZi5vYmplY3REYXRhLmlzUGFydE9mU2VxdWVuY2UpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5wcmV2LmNsaWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHQvLyBGb3J3YXJkIGtleVxuXHRcdFx0XHRcdGNhc2UgMzk6XG5cdFx0XHRcdFx0XHRpZiAoX3NlbGYub2JqZWN0RGF0YS5pc1BhcnRPZlNlcXVlbmNlKSB7XG5cdFx0XHRcdFx0XHRcdF9zZWxmLm9iamVjdHMubmV4dC5jbGljaygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBTdGFydHMgdGhlIHNsaWRlc2hvdyB0aW1lb3V0XG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfc3RhcnRUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRfc2VsZi5pc1NsaWRlc2hvd1N0YXJ0ZWQgPSB0cnVlO1xuXG5cdFx0XHRfc2VsZi5vYmplY3RzLnBsYXkuaGlkZSgpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5wYXVzZS5zaG93KCk7XG5cblx0XHRcdF9zZWxmLmNhY2hlLmFjdGlvbiA9ICduZXh0Jztcblx0XHRcdF9zZWxmLm9iamVjdHMubmF2LnJlbW92ZUNsYXNzKF9zZWxmLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJ3BhdXNlZCcpO1xuXG5cdFx0XHRfc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdF9zZWxmLm9iamVjdHMubmF2LmRhdGEoJ2l0ZW1zJykubmV4dC5jbGljaygpO1xuXHRcdFx0fSwgX3NlbGYuc2V0dGluZ3MudGltZW91dCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFN0b3BzIHRoZSBzbGlkZXNob3cgdGltZW91dFxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X3N0b3BUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRfc2VsZi5vYmplY3RzLnBsYXkuc2hvdygpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5wYXVzZS5oaWRlKCk7XG5cblx0XHRcdF9zZWxmLm9iamVjdHMubmF2LmFkZENsYXNzKF9zZWxmLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJ3BhdXNlZCcpO1xuXG5cdFx0XHRjbGVhclRpbWVvdXQoX3NlbGYudGltZW91dCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFNldHMgdGhlIG5hdmlnYXRvciBidXR0b25zIChwcmV2L25leHQpXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR7b2JqZWN0fVx0aXRlbXNcblx0XHQgKi9cblx0XHRfc2V0TmF2aWdhdGlvbjogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyICRsaW5rcyA9ICQoKF9zZWxmLmNhY2hlLnNlbGVjdG9yIHx8IF9zZWxmLnNldHRpbmdzLmF0dHIpKSxcblx0XHRcdFx0c2VxdWVuY2VMZW5ndGggPSBfc2VsZi5vYmplY3REYXRhLnNlcXVlbmNlTGVuZ3RoIC0gMSxcblx0XHRcdFx0aXRlbXMgPSB7XG5cdFx0XHRcdFx0cHJldjogJGxpbmtzLmVxKF9zZWxmLm9iamVjdERhdGEucHJldkluZGV4KSxcblx0XHRcdFx0XHRuZXh0OiAkbGlua3MuZXEoX3NlbGYub2JqZWN0RGF0YS5uZXh0SW5kZXgpXG5cdFx0XHRcdH07XG5cblx0XHRcdGlmIChfc2VsZi5vYmplY3REYXRhLmN1cnJlbnRJbmRleCA+IDApIHtcblx0XHRcdFx0X3NlbGYub2JqZWN0cy5wcmV2LnNob3coKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGl0ZW1zLnByZXZJdGVtID0gJGxpbmtzLmVxKHNlcXVlbmNlTGVuZ3RoKTtcblx0XHRcdH1cblx0XHRcdGlmIChfc2VsZi5vYmplY3REYXRhLm5leHRJbmRleCA8PSBzZXF1ZW5jZUxlbmd0aCkge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLm5leHQuc2hvdygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXRlbXMubmV4dCA9ICRsaW5rcy5lcSgwKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKF9zZWxmLnNldHRpbmdzLm5hdmlnYXRlRW5kbGVzcyA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLnByZXYuc2hvdygpO1xuXHRcdFx0XHRfc2VsZi5vYmplY3RzLm5leHQuc2hvdygpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaXRlbXM7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEl0ZW0gaW5mb3JtYXRpb24vc3RhdHVzXG5cdFx0ICpcblx0XHQgKi9cblx0XHRpdGVtOiB7XG5cdFx0XHQvKipcblx0XHRcdCAqIFZlcmlmaWVzIGlmIHRoZSBjdXJyZW50IGl0ZW0gaXMgZmlyc3QgaXRlbS5cblx0XHRcdCAqXG5cdFx0XHQgKiBAcmV0dXJuXHR7Ym9vbGVhbn1cblx0XHRcdCAqL1xuXHRcdFx0aXNGaXJzdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gKF9zZWxmLm9iamVjdERhdGEuY3VycmVudEluZGV4ID09PSAwKTtcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogVmVyaWZpZXMgaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBmaXJzdCBpdGVtIG9wZW5lZC5cblx0XHRcdCAqXG5cdFx0XHQgKiBAcmV0dXJuXHR7Ym9vbGVhbn1cblx0XHRcdCAqL1xuXHRcdFx0aXNGaXJzdE9wZW5lZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gX3NlbGYub2JqZWN0RGF0YS50aGlzLmlzKF9zZWxmLmNhY2hlLmZpcnN0T3BlbmVkKTtcblx0XHRcdH0sXG5cblx0XHRcdC8qKlxuXHRcdFx0ICogVmVyaWZpZXMgaWYgdGhlIGN1cnJlbnQgaXRlbSBpcyBsYXN0IGl0ZW0uXG5cdFx0XHQgKlxuXHRcdFx0ICogQHJldHVyblx0e2Jvb2xlYW59XG5cdFx0XHQgKi9cblx0XHRcdGlzTGFzdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gKF9zZWxmLm9iamVjdERhdGEuY3VycmVudEluZGV4ID09PSAoX3NlbGYub2JqZWN0RGF0YS5zZXF1ZW5jZUxlbmd0aCAtIDEpKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2xvbmVzIHRoZSBvYmplY3QgZm9yIGlubGluZSBlbGVtZW50c1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtXHR7b2JqZWN0fVx0JG9iamVjdFxuXHRcdCAqIEByZXR1cm5cdHtvYmplY3R9XHQkY2xvbmVcblx0XHQgKi9cblx0XHRfY2xvbmVPYmplY3Q6IGZ1bmN0aW9uICgkb2JqZWN0KSB7XG5cdFx0XHR2YXIgJGNsb25lID0gJG9iamVjdC5jbG9uZSgpLFxuXHRcdFx0XHRvYmplY3RJZCA9ICRvYmplY3QuYXR0cignaWQnKTtcblxuXHRcdFx0Ly8gSWYgZWxlbWVudCBpcyBoaWRkZW4sIGNhY2hlIHRoZSBvYmplY3QgYW5kIHJlbW92ZVxuXHRcdFx0aWYgKCRvYmplY3QuaXMoJzpoaWRkZW4nKSkge1xuXHRcdFx0XHRfc2VsZi5fY2FjaGVPYmplY3REYXRhKCRvYmplY3QpO1xuXHRcdFx0XHQkb2JqZWN0LmF0dHIoJ2lkJywgX3NlbGYuc2V0dGluZ3MuaWRQcmVmaXggKyAndGVtcC0nICsgb2JqZWN0SWQpLmVtcHR5KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBQcmV2ZW50IGR1cGxpY2F0ZWQgaWQnc1xuXHRcdFx0XHQkY2xvbmUucmVtb3ZlQXR0cignaWQnKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICRjbG9uZS5zaG93KCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFZlcmlmaWVzIGlmIGl0IGlzIGEgbW9iaWxlIGRldmljZVxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e2Jvb2xlYW59XG5cdFx0ICovXG5cdFx0aXNNb2JpbGVEZXZpY2U6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBkZXZpY2VBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0YWdlbnRJZCA9IGRldmljZUFnZW50Lm1hdGNoKF9zZWxmLnNldHRpbmdzLm1vYmlsZU1hdGNoRXhwcmVzc2lvbik7XG5cblx0XHRcdHJldHVybiBhZ2VudElkID8gdHJ1ZSA6IGZhbHNlO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBWZXJpZmllcyBpZiBjc3MgdHJhbnNpdGlvbnMgYXJlIHN1cHBvcnRlZFxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3N0cmluZ3xib29sZWFufVx0VGhlIHRyYW5zaXRpb24gcHJlZml4IGlmIHN1cHBvcnRlZCwgZWxzZSBmYWxzZS5cblx0XHQgKi9cblx0XHRpc1RyYW5zaXRpb25TdXBwb3J0ZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBib2R5ID0gX3NlbGYub2JqZWN0cy5ib2R5LmdldCgwKSxcblx0XHRcdFx0aXNUcmFuc2l0aW9uU3VwcG9ydGVkID0gZmFsc2UsXG5cdFx0XHRcdHRyYW5zaXRpb25NYXBwaW5nID0ge1xuXHRcdFx0XHRcdCd0cmFuc2l0aW9uJzogJycsXG5cdFx0XHRcdFx0J1dlYmtpdFRyYW5zaXRpb24nOiAnLXdlYmtpdC0nLFxuXHRcdFx0XHRcdCdNb3pUcmFuc2l0aW9uJzogJy1tb3otJyxcblx0XHRcdFx0XHQnT1RyYW5zaXRpb24nOiAnLW8tJyxcblx0XHRcdFx0XHQnTXNUcmFuc2l0aW9uJzogJy1tcy0nXG5cdFx0XHRcdH07XG5cblx0XHRcdGZvciAodmFyIGtleSBpbiB0cmFuc2l0aW9uTWFwcGluZykge1xuXHRcdFx0XHRpZiAodHJhbnNpdGlvbk1hcHBpbmcuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkgaW4gYm9keS5zdHlsZSkge1xuXHRcdFx0XHRcdF9zZWxmLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25NYXBwaW5nW2tleV07XG5cdFx0XHRcdFx0aXNUcmFuc2l0aW9uU3VwcG9ydGVkID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaXNUcmFuc2l0aW9uU3VwcG9ydGVkO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBUcmFuc2l0aW9uIHR5cGVzXG5cdFx0ICpcblx0XHQgKi9cblx0XHR0cmFuc2l0aW9uOiB7XG5cdFx0XHQvKipcblx0XHRcdCAqIFJldHVybnMgdGhlIGNvcnJlY3QgdHJhbnNpdGlvbiB0eXBlIGFjY29yZGluZyB0byB0aGUgc3RhdHVzIG9mIGludGVyYWN0aW9uLlxuXHRcdFx0ICpcblx0XHRcdCAqIEByZXR1cm5cdHtzdHJpbmd9XHRUcmFuc2l0aW9uIHR5cGVcblx0XHRcdCAqL1xuXHRcdFx0aW46IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKF9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb25PcGVuICYmICFfc2VsZi5jYWNoZS5maXJzdE9wZW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiBfc2VsZi5zZXR0aW5ncy50cmFuc2l0aW9uT3Blbjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gX3NlbGYuc2V0dGluZ3MudHJhbnNpdGlvbkluO1xuXHRcdFx0fSxcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBGYWRlcyBpbi9vdXQgdGhlIG9iamVjdFxuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbVx0e29iamVjdH1cdCRvYmplY3Rcblx0XHRcdCAqIEBwYXJhbVx0e3N0cmluZ31cdHR5cGVcblx0XHRcdCAqIEBwYXJhbVx0e251bWJlcn1cdHNwZWVkXG5cdFx0XHQgKiBAcGFyYW1cdHtudW1iZXJ9XHRvcGFjaXR5XG5cdFx0XHQgKiBAcGFyYW1cdHtmdW5jdGlvbn1cdGNhbGxiYWNrXG5cdFx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cdFx0QW5pbWF0ZXMgYW4gb2JqZWN0XG5cdFx0XHQgKi9cblx0XHRcdGZhZGU6IGZ1bmN0aW9uICgkb2JqZWN0LCB0eXBlLCBzcGVlZCwgb3BhY2l0eSwgY2FsbGJhY2spIHtcblx0XHRcdFx0dmFyIGlzSW5UcmFuc2l0aW9uID0gdHlwZSA9PT0gJ2luJyxcblx0XHRcdFx0XHRzdGFydFRyYW5zaXRpb24gPSB7fSxcblx0XHRcdFx0XHRzdGFydE9wYWNpdHkgPSAkb2JqZWN0LmNzcygnb3BhY2l0eScpLFxuXHRcdFx0XHRcdGVuZFRyYW5zaXRpb24gPSB7fSxcblx0XHRcdFx0XHRlbmRPcGFjaXR5ID0gb3BhY2l0eSA/IG9wYWNpdHk6IGlzSW5UcmFuc2l0aW9uID8gMSA6IDA7XG5cblx0XHRcdFx0aWYgKCFfc2VsZi5pc09wZW4gJiYgaXNJblRyYW5zaXRpb24pIHJldHVybjtcblxuXHRcdFx0XHRzdGFydFRyYW5zaXRpb25bJ29wYWNpdHknXSA9IHN0YXJ0T3BhY2l0eTtcblx0XHRcdFx0ZW5kVHJhbnNpdGlvblsnb3BhY2l0eSddID0gZW5kT3BhY2l0eTtcblxuXHRcdFx0XHQkb2JqZWN0LmNzcyhfc2VsZi5zdXBwb3J0LnRyYW5zaXRpb24gKyAndHJhbnNpdGlvbicsICdub25lJyk7XG5cdFx0XHRcdCRvYmplY3QuY3NzKHN0YXJ0VHJhbnNpdGlvbikuc2hvdygpO1xuXG5cdFx0XHRcdC8vIENzcyB0cmFuc2l0aW9uXG5cdFx0XHRcdGlmIChfc2VsZi5zdXBwb3J0LnRyYW5zaXRpb25zKSB7XG5cdFx0XHRcdFx0ZW5kVHJhbnNpdGlvbltfc2VsZi5zdXBwb3J0LnRyYW5zaXRpb24gKyAndHJhbnNpdGlvbiddID0gc3BlZWQgKyAnbXMgZWFzZSc7XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdCRvYmplY3QuY3NzKGVuZFRyYW5zaXRpb24pO1xuXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0JG9iamVjdC5jc3MoX3NlbGYuc3VwcG9ydC50cmFuc2l0aW9uICsgJ3RyYW5zaXRpb24nLCAnJyk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIChfc2VsZi5pc09wZW4gfHwgIWlzSW5UcmFuc2l0aW9uKSkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIHNwZWVkKTtcblx0XHRcdFx0XHR9LCAxNSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8ganMgdHJhbnNpdGlvblxuXHRcdFx0XHRcdCRvYmplY3Quc3RvcCgpO1xuXHRcdFx0XHRcdCRvYmplY3QuYW5pbWF0ZShlbmRUcmFuc2l0aW9uLCBzcGVlZCwgY2FsbGJhY2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFNjcm9sbHMgaW4vb3V0IHRoZSBvYmplY3Rcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW1cdHtvYmplY3R9XHQkb2JqZWN0XG5cdFx0XHQgKiBAcGFyYW1cdHtzdHJpbmd9XHR0eXBlXG5cdFx0XHQgKiBAcGFyYW1cdHtudW1iZXJ9XHRzcGVlZFxuXHRcdFx0ICogQHBhcmFtXHR7ZnVuY3Rpb259XHRjYWxsYmFja1xuXHRcdFx0ICogQHJldHVyblx0e3ZvaWR9XHRcdEFuaW1hdGVzIGFuIG9iamVjdFxuXHRcdFx0ICovXG5cdFx0XHRzY3JvbGw6IGZ1bmN0aW9uICgkb2JqZWN0LCB0eXBlLCBzcGVlZCwgY2FsbGJhY2spIHtcblx0XHRcdFx0dmFyIGlzSW5UcmFuc2l0aW9uID0gdHlwZSA9PT0gJ2luJyxcblx0XHRcdFx0XHR0cmFuc2l0aW9uID0gaXNJblRyYW5zaXRpb24gPyBfc2VsZi5zZXR0aW5ncy50cmFuc2l0aW9uSW4gOiBfc2VsZi5zZXR0aW5ncy50cmFuc2l0aW9uT3V0LFxuXHRcdFx0XHRcdGRpcmVjdGlvbiA9ICdsZWZ0Jyxcblx0XHRcdFx0XHRzdGFydFRyYW5zaXRpb24gPSB7fSxcblx0XHRcdFx0XHRzdGFydE9wYWNpdHkgPSBpc0luVHJhbnNpdGlvbiA/IDAgOiAxLFxuXHRcdFx0XHRcdHN0YXJ0T2Zmc2V0ID0gaXNJblRyYW5zaXRpb24gPyAnLTUwJScgOiAnNTAlJyxcblx0XHRcdFx0XHRlbmRUcmFuc2l0aW9uID0ge30sXG5cdFx0XHRcdFx0ZW5kT3BhY2l0eSA9IGlzSW5UcmFuc2l0aW9uID8gMSA6IDAsXG5cdFx0XHRcdFx0ZW5kT2Zmc2V0ID0gaXNJblRyYW5zaXRpb24gPyAnNTAlJyA6ICctNTAlJztcblxuXHRcdFx0XHRpZiAoIV9zZWxmLmlzT3BlbiAmJiBpc0luVHJhbnNpdGlvbikgcmV0dXJuO1xuXG5cdFx0XHRcdHN3aXRjaCAodHJhbnNpdGlvbikge1xuXHRcdFx0XHRcdGNhc2UgJ3Njcm9sbFRvcCc6XG5cdFx0XHRcdFx0XHRkaXJlY3Rpb24gPSAndG9wJztcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ3Njcm9sbFJpZ2h0Jzpcblx0XHRcdFx0XHRcdHN0YXJ0T2Zmc2V0ID0gaXNJblRyYW5zaXRpb24gPyAnMTUwJScgOiAnNTAlJztcblx0XHRcdFx0XHRcdGVuZE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJzUwJScgOiAnMTUwJSc7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdzY3JvbGxCb3R0b20nOlxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uID0gJ3RvcCc7XG5cdFx0XHRcdFx0XHRzdGFydE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJzE1MCUnIDogJzUwJSc7XG5cdFx0XHRcdFx0XHRlbmRPZmZzZXQgPSBpc0luVHJhbnNpdGlvbiA/ICc1MCUnIDogJzE1MCUnO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2Nyb2xsSG9yaXpvbnRhbCc6XG5cdFx0XHRcdFx0XHRzdGFydE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJzE1MCUnIDogJzUwJSc7XG5cdFx0XHRcdFx0XHRlbmRPZmZzZXQgPSBpc0luVHJhbnNpdGlvbiA/ICc1MCUnIDogJy01MCUnO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnc2Nyb2xsVmVydGljYWwnOlxuXHRcdFx0XHRcdFx0ZGlyZWN0aW9uID0gJ3RvcCc7XG5cdFx0XHRcdFx0XHRzdGFydE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJy01MCUnIDogJzUwJSc7XG5cdFx0XHRcdFx0XHRlbmRPZmZzZXQgPSBpc0luVHJhbnNpdGlvbiA/ICc1MCUnIDogJzE1MCUnO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoX3NlbGYuY2FjaGUuYWN0aW9uID09PSAncHJldicpIHtcblx0XHRcdFx0XHRzd2l0Y2ggKHRyYW5zaXRpb24pIHtcblx0XHRcdFx0XHRcdGNhc2UgJ3Njcm9sbEhvcml6b250YWwnOlxuXHRcdFx0XHRcdFx0XHRzdGFydE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJy01MCUnIDogJzUwJSc7XG5cdFx0XHRcdFx0XHRcdGVuZE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJzUwJScgOiAnMTUwJSc7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAnc2Nyb2xsVmVydGljYWwnOlxuXHRcdFx0XHRcdFx0XHRzdGFydE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJzE1MCUnIDogJzUwJSc7XG5cdFx0XHRcdFx0XHRcdGVuZE9mZnNldCA9IGlzSW5UcmFuc2l0aW9uID8gJzUwJScgOiAnLTUwJSc7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN0YXJ0VHJhbnNpdGlvblsnb3BhY2l0eSddID0gc3RhcnRPcGFjaXR5O1xuXHRcdFx0XHRzdGFydFRyYW5zaXRpb25bZGlyZWN0aW9uXSA9IHN0YXJ0T2Zmc2V0O1xuXG5cdFx0XHRcdGVuZFRyYW5zaXRpb25bJ29wYWNpdHknXSA9IGVuZE9wYWNpdHk7XG5cdFx0XHRcdGVuZFRyYW5zaXRpb25bZGlyZWN0aW9uXSA9IGVuZE9mZnNldDtcblxuXHRcdFx0XHQkb2JqZWN0LmNzcyhfc2VsZi5zdXBwb3J0LnRyYW5zaXRpb24gKyAndHJhbnNpdGlvbicsICdub25lJyk7XG5cdFx0XHRcdCRvYmplY3QuY3NzKHN0YXJ0VHJhbnNpdGlvbikuc2hvdygpO1xuXG5cdFx0XHRcdC8vIENzcyB0cmFuc2l0aW9uXG5cdFx0XHRcdGlmIChfc2VsZi5zdXBwb3J0LnRyYW5zaXRpb25zKSB7XG5cdFx0XHRcdFx0ZW5kVHJhbnNpdGlvbltfc2VsZi5zdXBwb3J0LnRyYW5zaXRpb24gKyAndHJhbnNpdGlvbiddID0gc3BlZWQgKyAnbXMgZWFzZSc7XG5cblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdCRvYmplY3QuY3NzKGVuZFRyYW5zaXRpb24pO1xuXG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0JG9iamVjdC5jc3MoX3NlbGYuc3VwcG9ydC50cmFuc2l0aW9uICsgJ3RyYW5zaXRpb24nLCAnJyk7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIChfc2VsZi5pc09wZW4gfHwgIWlzSW5UcmFuc2l0aW9uKSkge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIHNwZWVkKTtcblx0XHRcdFx0XHR9LCAxNSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8ganMgdHJhbnNpdGlvblxuXHRcdFx0XHRcdCRvYmplY3Quc3RvcCgpO1xuXHRcdFx0XHRcdCRvYmplY3QuYW5pbWF0ZShlbmRUcmFuc2l0aW9uLCBzcGVlZCwgY2FsbGJhY2spO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvKipcblx0XHRcdCAqIFpvb21zIGluL291dCB0aGUgb2JqZWN0XG5cdFx0XHQgKlxuXHRcdFx0ICogQHBhcmFtXHR7b2JqZWN0fVx0JG9iamVjdFxuXHRcdFx0ICogQHBhcmFtXHR7c3RyaW5nfVx0dHlwZVxuXHRcdFx0ICogQHBhcmFtXHR7bnVtYmVyfVx0c3BlZWRcblx0XHRcdCAqIEBwYXJhbVx0e2Z1bmN0aW9ufVx0Y2FsbGJhY2tcblx0XHRcdCAqIEByZXR1cm5cdHt2b2lkfVx0XHRBbmltYXRlcyBhbiBvYmplY3Rcblx0XHRcdCAqL1xuXHRcdFx0em9vbTogZnVuY3Rpb24gKCRvYmplY3QsIHR5cGUsIHNwZWVkLCBjYWxsYmFjaykge1xuXHRcdFx0XHR2YXIgaXNJblRyYW5zaXRpb24gPSB0eXBlID09PSAnaW4nLFxuXHRcdFx0XHRcdHN0YXJ0VHJhbnNpdGlvbiA9IHt9LFxuXHRcdFx0XHRcdHN0YXJ0T3BhY2l0eSA9ICRvYmplY3QuY3NzKCdvcGFjaXR5JyksXG5cdFx0XHRcdFx0c3RhcnRTY2FsZSA9IGlzSW5UcmFuc2l0aW9uID8gJ3NjYWxlKDAuNzUpJyA6ICdzY2FsZSgxKScsXG5cdFx0XHRcdFx0ZW5kVHJhbnNpdGlvbiA9IHt9LFxuXHRcdFx0XHRcdGVuZE9wYWNpdHkgPSBpc0luVHJhbnNpdGlvbiA/IDEgOiAwLFxuXHRcdFx0XHRcdGVuZFNjYWxlID0gaXNJblRyYW5zaXRpb24gPyAnc2NhbGUoMSknIDogJ3NjYWxlKDAuNzUpJztcblxuXHRcdFx0XHRpZiAoIV9zZWxmLmlzT3BlbiAmJiBpc0luVHJhbnNpdGlvbikgcmV0dXJuO1xuXG5cdFx0XHRcdHN0YXJ0VHJhbnNpdGlvblsnb3BhY2l0eSddID0gc3RhcnRPcGFjaXR5O1xuXHRcdFx0XHRzdGFydFRyYW5zaXRpb25bX3NlbGYuc3VwcG9ydC50cmFuc2l0aW9uICsgJ3RyYW5zZm9ybSddID0gc3RhcnRTY2FsZTtcblxuXHRcdFx0XHRlbmRUcmFuc2l0aW9uWydvcGFjaXR5J10gPSBlbmRPcGFjaXR5O1xuXG5cdFx0XHRcdCRvYmplY3QuY3NzKF9zZWxmLnN1cHBvcnQudHJhbnNpdGlvbiArICd0cmFuc2l0aW9uJywgJ25vbmUnKTtcblx0XHRcdFx0JG9iamVjdC5jc3Moc3RhcnRUcmFuc2l0aW9uKS5zaG93KCk7XG5cblx0XHRcdFx0Ly8gQ3NzIHRyYW5zaXRpb25cblx0XHRcdFx0aWYgKF9zZWxmLnN1cHBvcnQudHJhbnNpdGlvbnMpIHtcblx0XHRcdFx0XHRlbmRUcmFuc2l0aW9uW19zZWxmLnN1cHBvcnQudHJhbnNpdGlvbiArICd0cmFuc2Zvcm0nXSA9IGVuZFNjYWxlO1xuXHRcdFx0XHRcdGVuZFRyYW5zaXRpb25bX3NlbGYuc3VwcG9ydC50cmFuc2l0aW9uICsgJ3RyYW5zaXRpb24nXSA9IHNwZWVkICsgJ21zIGVhc2UnO1xuXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHQkb2JqZWN0LmNzcyhlbmRUcmFuc2l0aW9uKTtcblxuXHRcdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdCRvYmplY3QuY3NzKF9zZWxmLnN1cHBvcnQudHJhbnNpdGlvbiArICd0cmFuc2Zvcm0nLCAnJyk7XG5cdFx0XHRcdFx0XHRcdCRvYmplY3QuY3NzKF9zZWxmLnN1cHBvcnQudHJhbnNpdGlvbiArICd0cmFuc2l0aW9uJywgJycpO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFjayAmJiAoX3NlbGYuaXNPcGVuIHx8ICFpc0luVHJhbnNpdGlvbikpIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBzcGVlZCk7XG5cdFx0XHRcdFx0fSwgMTUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIGpzIHRyYW5zaXRpb25cblx0XHRcdFx0XHQkb2JqZWN0LnN0b3AoKTtcblx0XHRcdFx0XHQkb2JqZWN0LmFuaW1hdGUoZW5kVHJhbnNpdGlvbiwgc3BlZWQsIGNhbGxiYWNrKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDYWxscyBhbGwgdGhlIHJlZ2lzdGVyZWQgZnVuY3Rpb25zIG9mIGEgc3BlY2lmaWMgaG9va1xuXHRcdCAqXG5cdFx0ICogQHBhcmFtXHR7b2JqZWN0fVx0aG9va3Ncblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfY2FsbEhvb2tzOiBmdW5jdGlvbiAoaG9va3MpIHtcblx0XHRcdGlmICh0eXBlb2YoaG9va3MpID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHQkLmVhY2goaG9va3MsIGZ1bmN0aW9uKGluZGV4LCBob29rKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZihob29rKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0aG9vay5jYWxsKF9zZWxmLm9yaWdpbik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2FjaGVzIHRoZSBvYmplY3QgZGF0YVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtXHR7b2JqZWN0fVx0JG9iamVjdFxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF9jYWNoZU9iamVjdERhdGE6IGZ1bmN0aW9uICgkb2JqZWN0KSB7XG5cdFx0XHQkLmRhdGEoJG9iamVjdCwgJ2NhY2hlJywge1xuXHRcdFx0XHRpZDogJG9iamVjdC5hdHRyKCdpZCcpLFxuXHRcdFx0XHRjb250ZW50OiAkb2JqZWN0Lmh0bWwoKVxuXHRcdFx0fSk7XG5cblx0XHRcdF9zZWxmLmNhY2hlLm9yaWdpbmFsT2JqZWN0ID0gJG9iamVjdDtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmVzdG9yZXMgdGhlIG9iamVjdCBmcm9tIGNhY2hlXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR2b2lkXG5cdFx0ICovXG5cdFx0X3Jlc3RvcmVPYmplY3Q6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciAkb2JqZWN0ID0gJCgnW2lkXj1cIicgKyBfc2VsZi5zZXR0aW5ncy5pZFByZWZpeCArICd0ZW1wLVwiXScpO1xuXG5cdFx0XHQkb2JqZWN0LmF0dHIoJ2lkJywgJC5kYXRhKF9zZWxmLmNhY2hlLm9yaWdpbmFsT2JqZWN0LCAnY2FjaGUnKS5pZCk7XG5cdFx0XHQkb2JqZWN0Lmh0bWwoJC5kYXRhKF9zZWxmLmNhY2hlLm9yaWdpbmFsT2JqZWN0LCAnY2FjaGUnKS5jb250ZW50KTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRXhlY3V0ZXMgZnVuY3Rpb25zIGZvciBhIHdpbmRvdyByZXNpemUuXG5cdFx0ICogSXQgc3RvcHMgYW4gZXZlbnR1YWwgdGltZW91dCBhbmQgcmVjYWxjdWxhdGVzIGRpbWVuc2lvbnMuXG5cdFx0ICpcblx0XHQgKiBAcGFyYW1cdHtvYmplY3R9XHRkaW1lbnNpb25zXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0cmVzaXplOiBmdW5jdGlvbiAoZXZlbnQsIGRpbWVuc2lvbnMpIHtcblx0XHRcdGlmICghX3NlbGYuaXNPcGVuKSByZXR1cm47XG5cblx0XHRcdGlmIChfc2VsZi5pc1NsaWRlc2hvd0VuYWJsZWQoKSkge1xuXHRcdFx0XHRfc2VsZi5fc3RvcFRpbWVvdXQoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBkaW1lbnNpb25zID09PSAnb2JqZWN0JyAmJiBkaW1lbnNpb25zICE9PSBudWxsKSB7XG5cdFx0XHRcdGlmIChkaW1lbnNpb25zLndpZHRoKSB7XG5cdFx0XHRcdFx0X3NlbGYuY2FjaGUub2JqZWN0LmF0dHIoXG5cdFx0XHRcdFx0XHRfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnd2lkdGgnKSxcblx0XHRcdFx0XHRcdGRpbWVuc2lvbnMud2lkdGhcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChkaW1lbnNpb25zLm1heFdpZHRoKSB7XG5cdFx0XHRcdFx0X3NlbGYuY2FjaGUub2JqZWN0LmF0dHIoXG5cdFx0XHRcdFx0XHRfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnbWF4LXdpZHRoJyksXG5cdFx0XHRcdFx0XHRkaW1lbnNpb25zLm1heFdpZHRoXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZGltZW5zaW9ucy5oZWlnaHQpIHtcblx0XHRcdFx0XHRfc2VsZi5jYWNoZS5vYmplY3QuYXR0cihcblx0XHRcdFx0XHRcdF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKCdoZWlnaHQnKSxcblx0XHRcdFx0XHRcdGRpbWVuc2lvbnMuaGVpZ2h0XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZGltZW5zaW9ucy5tYXhIZWlnaHQpIHtcblx0XHRcdFx0XHRfc2VsZi5jYWNoZS5vYmplY3QuYXR0cihcblx0XHRcdFx0XHRcdF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKCdtYXgtaGVpZ2h0JyksXG5cdFx0XHRcdFx0XHRkaW1lbnNpb25zLm1heEhlaWdodFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0X3NlbGYuZGltZW5zaW9ucyA9IF9zZWxmLmdldFZpZXdwb3J0RGltZW5zaW9ucygpO1xuXHRcdFx0X3NlbGYuX2NhbGN1bGF0ZURpbWVuc2lvbnMoX3NlbGYuY2FjaGUub2JqZWN0KTtcblxuXHRcdFx0Ly8gQ2FsbCBvblJlc2l6ZSBob29rIGZ1bmN0aW9uc1xuXHRcdFx0X3NlbGYuX2NhbGxIb29rcyhfc2VsZi5zZXR0aW5ncy5vblJlc2l6ZSk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFdhdGNoZXMgZm9yIGFueSByZXNpemUgaW50ZXJhY3Rpb24gYW5kIGNhY2hlcyB0aGUgbmV3IHNpemVzLlxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X3dhdGNoUmVzaXplSW50ZXJhY3Rpb246IGZ1bmN0aW9uICgpIHtcblx0XHRcdCQod2luZG93KS5yZXNpemUoX3NlbGYucmVzaXplKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogU3RvcCB3YXRjaGluZyBhbnkgcmVzaXplIGludGVyYWN0aW9uIHJlbGF0ZWQgdG8gX3NlbGYuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfdW53YXRjaFJlc2l6ZUludGVyYWN0aW9uOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHQkKHdpbmRvdykub2ZmKCdyZXNpemUnLCBfc2VsZi5yZXNpemUpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBTd2l0Y2hlcyB0byB0aGUgZnVsbHNjcmVlbiBtb2RlXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfc3dpdGNoVG9GdWxsU2NyZWVuTW9kZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0X3NlbGYuc2V0dGluZ3Muc2hyaW5rRmFjdG9yID0gMTtcblx0XHRcdF9zZWxmLnNldHRpbmdzLm92ZXJsYXlPcGFjaXR5ID0gMTtcblxuXHRcdFx0JCgnaHRtbCcpLmFkZENsYXNzKF9zZWxmLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJ2Z1bGxTY3JlZW5Nb2RlJyk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEVudGVycyBpbnRvIHRoZSBsaWdodGNhc2Ugdmlld1xuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X29wZW46IGZ1bmN0aW9uICgpIHtcblx0XHRcdF9zZWxmLmlzT3BlbiA9IHRydWU7XG5cblx0XHRcdF9zZWxmLnN1cHBvcnQudHJhbnNpdGlvbnMgPSBfc2VsZi5zZXR0aW5ncy5jc3NUcmFuc2l0aW9ucyA/IF9zZWxmLmlzVHJhbnNpdGlvblN1cHBvcnRlZCgpIDogZmFsc2U7XG5cdFx0XHRfc2VsZi5zdXBwb3J0Lm1vYmlsZURldmljZSA9IF9zZWxmLmlzTW9iaWxlRGV2aWNlKCk7XG5cblx0XHRcdGlmIChfc2VsZi5zdXBwb3J0Lm1vYmlsZURldmljZSkge1xuXHRcdFx0XHQkKCdodG1sJykuYWRkQ2xhc3MoX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnaXNNb2JpbGVEZXZpY2UnKTtcblxuXHRcdFx0XHRpZiAoX3NlbGYuc2V0dGluZ3MuZnVsbFNjcmVlbk1vZGVGb3JNb2JpbGUpIHtcblx0XHRcdFx0XHRfc2VsZi5fc3dpdGNoVG9GdWxsU2NyZWVuTW9kZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmICghX3NlbGYuc2V0dGluZ3MudHJhbnNpdGlvbkluKSB7XG5cdFx0XHRcdF9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb25JbiA9IF9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb247XG5cdFx0XHR9XG5cdFx0XHRpZiAoIV9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb25PdXQpIHtcblx0XHRcdFx0X3NlbGYuc2V0dGluZ3MudHJhbnNpdGlvbk91dCA9IF9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb247XG5cdFx0XHR9XG5cblx0XHRcdHN3aXRjaCAoX3NlbGYudHJhbnNpdGlvbi5pbigpKSB7XG5cdFx0XHRcdGNhc2UgJ2ZhZGUnOlxuXHRcdFx0XHRjYXNlICdmYWRlSW5saW5lJzpcblx0XHRcdFx0Y2FzZSAnZWxhc3RpYyc6XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbFRvcCc6XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbFJpZ2h0Jzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsQm90dG9tJzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsTGVmdCc6XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbFZlcnRpY2FsJzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsSG9yaXpvbnRhbCc6XG5cdFx0XHRcdFx0aWYgKF9zZWxmLm9iamVjdHMuY2FzZS5pcygnOmhpZGRlbicpKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi5vYmplY3RzLmNsb3NlLmNzcygnb3BhY2l0eScsIDApO1xuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5vdmVybGF5LmNzcygnb3BhY2l0eScsIDApO1xuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5jYXNlLmNzcygnb3BhY2l0eScsIDApO1xuXHRcdFx0XHRcdFx0X3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIuY3NzKCdvcGFjaXR5JywgMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdF9zZWxmLnRyYW5zaXRpb24uZmFkZShfc2VsZi5vYmplY3RzLm92ZXJsYXksICdpbicsIF9zZWxmLnNldHRpbmdzLnNwZWVkSW4sIF9zZWxmLnNldHRpbmdzLm92ZXJsYXlPcGFjaXR5LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jbG9zZSwgJ2luJywgX3NlbGYuc2V0dGluZ3Muc3BlZWRJbik7XG5cdFx0XHRcdFx0XHRfc2VsZi5faGFuZGxlRXZlbnRzKCk7XG5cdFx0XHRcdFx0XHRfc2VsZi5fcHJvY2Vzc0NvbnRlbnQoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5vdmVybGF5LCAnaW4nLCAwLCBfc2VsZi5zZXR0aW5ncy5vdmVybGF5T3BhY2l0eSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi5mYWRlKF9zZWxmLm9iamVjdHMuY2xvc2UsICdpbicsIDApO1xuXHRcdFx0XHRcdFx0X3NlbGYuX2hhbmRsZUV2ZW50cygpO1xuXHRcdFx0XHRcdFx0X3NlbGYuX3Byb2Nlc3NDb250ZW50KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdF9zZWxmLm9iamVjdHMuZG9jdW1lbnQuYWRkQ2xhc3MoX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnb3BlbicpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5jYXNlLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFNob3dzIHRoZSBsaWdodGNhc2UgYnkgc3RhcnRpbmcgdGhlIHRyYW5zaXRpb25cblx0XHQgKi9cblx0XHRzaG93OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBDYWxsIG9uQ2FsY3VsYXRlRGltZW5zaW9ucyBob29rIGZ1bmN0aW9uc1xuXHRcdFx0X3NlbGYuX2NhbGxIb29rcyhfc2VsZi5zZXR0aW5ncy5vbkJlZm9yZUNhbGN1bGF0ZURpbWVuc2lvbnMpO1xuXG5cdFx0XHRfc2VsZi5fY2FsY3VsYXRlRGltZW5zaW9ucyhfc2VsZi5jYWNoZS5vYmplY3QpO1xuXG5cdFx0XHQvLyBDYWxsIG9uQWZ0ZXJDYWxjdWxhdGVEaW1lbnNpb25zIGhvb2sgZnVuY3Rpb25zXG5cdFx0XHRfc2VsZi5fY2FsbEhvb2tzKF9zZWxmLnNldHRpbmdzLm9uQWZ0ZXJDYWxjdWxhdGVEaW1lbnNpb25zKTtcblxuXHRcdFx0X3NlbGYuX3N0YXJ0SW5UcmFuc2l0aW9uKCk7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEVzY2FwZXMgZnJvbSB0aGUgbGlnaHRjYXNlIHZpZXdcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdGNsb3NlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRfc2VsZi5pc09wZW4gPSBmYWxzZTtcblxuXHRcdFx0aWYgKF9zZWxmLmlzU2xpZGVzaG93RW5hYmxlZCgpKSB7XG5cdFx0XHRcdF9zZWxmLl9zdG9wVGltZW91dCgpO1xuXHRcdFx0XHRfc2VsZi5pc1NsaWRlc2hvd1N0YXJ0ZWQgPSBmYWxzZTtcblx0XHRcdFx0X3NlbGYub2JqZWN0cy5uYXYucmVtb3ZlQ2xhc3MoX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAncGF1c2VkJyk7XG5cdFx0XHR9XG5cblx0XHRcdF9zZWxmLm9iamVjdHMubG9hZGluZy5oaWRlKCk7XG5cblx0XHRcdF9zZWxmLl91bmJpbmRFdmVudHMoKTtcblxuXHRcdFx0X3NlbGYuX3Vud2F0Y2hSZXNpemVJbnRlcmFjdGlvbigpO1xuXG5cdFx0XHQkKCdodG1sJykucmVtb3ZlQ2xhc3MoX3NlbGYuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnb3BlbicpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5jYXNlLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuXHRcdFx0X3NlbGYub2JqZWN0cy5uYXYuY2hpbGRyZW4oKS5oaWRlKCk7XG5cdFx0XHRfc2VsZi5vYmplY3RzLmNsb3NlLmhpZGUoKTtcblxuXHRcdFx0Ly8gQ2FsbCBvbkNsb3NlIGhvb2sgZnVuY3Rpb25zXG5cdFx0XHRfc2VsZi5fY2FsbEhvb2tzKF9zZWxmLnNldHRpbmdzLm9uQ2xvc2UpO1xuXG5cdFx0XHQvLyBGYWRlIG91dCB0aGUgaW5mbyBhdCBmaXJzdFxuXHRcdFx0X3NlbGYudHJhbnNpdGlvbi5mYWRlKF9zZWxmLm9iamVjdHMuaW5mbywgJ291dCcsIDApO1xuXG5cdFx0XHRzd2l0Y2ggKF9zZWxmLnNldHRpbmdzLnRyYW5zaXRpb25DbG9zZSB8fCBfc2VsZi5zZXR0aW5ncy50cmFuc2l0aW9uT3V0KSB7XG5cdFx0XHRcdGNhc2UgJ2ZhZGUnOlxuXHRcdFx0XHRjYXNlICdmYWRlSW5saW5lJzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsVG9wJzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsUmlnaHQnOlxuXHRcdFx0XHRjYXNlICdzY3JvbGxCb3R0b20nOlxuXHRcdFx0XHRjYXNlICdzY3JvbGxMZWZ0Jzpcblx0XHRcdFx0Y2FzZSAnc2Nyb2xsSG9yaXpvbnRhbCc6XG5cdFx0XHRcdGNhc2UgJ3Njcm9sbFZlcnRpY2FsJzpcblx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5jYXNlLCAnb3V0JywgX3NlbGYuc2V0dGluZ3Muc3BlZWRPdXQsIDAsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdF9zZWxmLnRyYW5zaXRpb24uZmFkZShfc2VsZi5vYmplY3RzLm92ZXJsYXksICdvdXQnLCBfc2VsZi5zZXR0aW5ncy5zcGVlZE91dCwgMCwgZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0XHRfc2VsZi5jbGVhbnVwKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnZWxhc3RpYyc6XG5cdFx0XHRcdFx0X3NlbGYudHJhbnNpdGlvbi56b29tKF9zZWxmLm9iamVjdHMuY2FzZSwgJ291dCcsIF9zZWxmLnNldHRpbmdzLnNwZWVkT3V0LCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRfc2VsZi50cmFuc2l0aW9uLmZhZGUoX3NlbGYub2JqZWN0cy5vdmVybGF5LCAnb3V0JywgX3NlbGYuc2V0dGluZ3Muc3BlZWRPdXQsIDAsIGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X3NlbGYuY2xlYW51cCgpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0X3NlbGYuY2xlYW51cCgpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBVbmJpbmRzIGFsbCBnaXZlbiBldmVudHNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdF91bmJpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFVuYmluZCBvdmVybGF5IGV2ZW50XG5cdFx0XHRfc2VsZi5vYmplY3RzLm92ZXJsYXkudW5iaW5kKCdjbGljaycpO1xuXG5cdFx0XHQvLyBVbmJpbmQga2V5IGV2ZW50c1xuXHRcdFx0JChkb2N1bWVudCkudW5iaW5kKCdrZXl1cC5saWdodGNhc2UnKTtcblxuXHRcdFx0Ly8gVW5iaW5kIHN3aXBlIGV2ZW50c1xuXHRcdFx0X3NlbGYub2JqZWN0cy5jYXNlLnVuYmluZCgnc3dpcGVsZWZ0JykudW5iaW5kKCdzd2lwZXJpZ2h0Jyk7XG5cblx0XHRcdC8vIFVuYmluZCBuYXZpZ2F0b3IgZXZlbnRzXG5cdFx0XHRfc2VsZi5vYmplY3RzLnByZXYudW5iaW5kKCdjbGljaycpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5uZXh0LnVuYmluZCgnY2xpY2snKTtcblx0XHRcdF9zZWxmLm9iamVjdHMucGxheS51bmJpbmQoJ2NsaWNrJyk7XG5cdFx0XHRfc2VsZi5vYmplY3RzLnBhdXNlLnVuYmluZCgnY2xpY2snKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGNsb3NlIGV2ZW50XG5cdFx0XHRfc2VsZi5vYmplY3RzLmNsb3NlLnVuYmluZCgnY2xpY2snKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2xlYW5zIHVwIHRoZSBkaW1lbnNpb25zXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR7dm9pZH1cblx0XHQgKi9cblx0XHRfY2xlYW51cERpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvcGFjaXR5ID0gX3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIuY3NzKCdvcGFjaXR5Jyk7XG5cblx0XHRcdF9zZWxmLm9iamVjdHMuY2FzZS5jc3Moe1xuXHRcdFx0XHQnd2lkdGgnOiAnJyxcblx0XHRcdFx0J2hlaWdodCc6ICcnLFxuXHRcdFx0XHQndG9wJzogJycsXG5cdFx0XHRcdCdsZWZ0JzogJycsXG5cdFx0XHRcdCdtYXJnaW4tdG9wJzogJycsXG5cdFx0XHRcdCdtYXJnaW4tbGVmdCc6ICcnXG5cdFx0XHR9KTtcblxuXHRcdFx0X3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIucmVtb3ZlQXR0cignc3R5bGUnKS5jc3MoJ29wYWNpdHknLCBvcGFjaXR5KTtcblx0XHRcdF9zZWxmLm9iamVjdHMuY29udGVudElubmVyLmNoaWxkcmVuKCkucmVtb3ZlQXR0cignc3R5bGUnKTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2xlYW51cCBhZnRlciBhYm9ydGluZyBsaWdodGNhc2Vcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHt2b2lkfVxuXHRcdCAqL1xuXHRcdGNsZWFudXA6IGZ1bmN0aW9uICgpIHtcblx0XHRcdF9zZWxmLl9jbGVhbnVwRGltZW5zaW9ucygpO1xuXG5cdFx0XHRfc2VsZi5vYmplY3RzLmxvYWRpbmcuaGlkZSgpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5vdmVybGF5LmhpZGUoKTtcblx0XHRcdF9zZWxmLm9iamVjdHMuY2FzZS5oaWRlKCk7XG5cdFx0XHRfc2VsZi5vYmplY3RzLnByZXYuaGlkZSgpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5uZXh0LmhpZGUoKTtcblx0XHRcdF9zZWxmLm9iamVjdHMucGxheS5oaWRlKCk7XG5cdFx0XHRfc2VsZi5vYmplY3RzLnBhdXNlLmhpZGUoKTtcblxuXHRcdFx0X3NlbGYub2JqZWN0cy5kb2N1bWVudC5yZW1vdmVBdHRyKF9zZWxmLl9wcmVmaXhBdHRyaWJ1dGVOYW1lKCd0eXBlJykpO1xuXHRcdFx0X3NlbGYub2JqZWN0cy5uYXYucmVtb3ZlQXR0cihfc2VsZi5fcHJlZml4QXR0cmlidXRlTmFtZSgnaXNwYXJ0b2ZzZXF1ZW5jZScpKTtcblxuXHRcdFx0X3NlbGYub2JqZWN0cy5jb250ZW50SW5uZXIuZW1wdHkoKS5oaWRlKCk7XG5cdFx0XHRfc2VsZi5vYmplY3RzLmluZm8uY2hpbGRyZW4oKS5lbXB0eSgpO1xuXG5cdFx0XHRpZiAoX3NlbGYuY2FjaGUub3JpZ2luYWxPYmplY3QpIHtcblx0XHRcdFx0X3NlbGYuX3Jlc3RvcmVPYmplY3QoKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FsbCBvbkNsZWFudXAgaG9vayBmdW5jdGlvbnNcblx0XHRcdF9zZWxmLl9jYWxsSG9va3MoX3NlbGYuc2V0dGluZ3Mub25DbGVhbnVwKTtcblxuXHRcdFx0Ly8gUmVzdG9yZSBjYWNoZVxuXHRcdFx0X3NlbGYuY2FjaGUgPSB7fTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgc3VwcG9ydGVkIG1hdGNoIG1lZGlhIG9yIHVuZGVmaW5lZCBpZiB0aGUgYnJvd3NlclxuXHRcdCAqIGRvZXNuJ3Qgc3VwcG9ydCBtYXRjaCBtZWRpYS5cblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHttaXhlZH1cblx0XHQgKi9cblx0XHRfbWF0Y2hNZWRpYTogZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhIHx8IHdpbmRvdy5tc01hdGNoTWVkaWE7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGRldmljZVBpeGVsUmF0aW8gaWYgc3VwcG9ydGVkLiBFbHNlLCBpdCBzaW1wbHkgcmV0dXJuc1xuXHRcdCAqIDEgYXMgdGhlIGRlZmF1bHQuXG5cdFx0ICpcblx0XHQgKiBAcmV0dXJuXHR7bnVtYmVyfVxuXHRcdCAqL1xuXHRcdF9kZXZpY2VQaXhlbFJhdGlvOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogQ2hlY2tzIGlmIG1ldGhvZCBpcyBwdWJsaWNcblx0XHQgKlxuXHRcdCAqIEByZXR1cm5cdHtib29sZWFufVxuXHRcdCAqL1xuXHRcdF9pc1B1YmxpY01ldGhvZDogZnVuY3Rpb24gKG1ldGhvZCkge1xuXHRcdFx0cmV0dXJuICh0eXBlb2YgX3NlbGZbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJyAmJiBtZXRob2QuY2hhckF0KDApICE9PSAnXycpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBFeHBvcnRzIGFsbCBwdWJsaWMgbWV0aG9kcyB0byBiZSBhY2Nlc3NpYmxlLCBjYWxsYWJsZVxuXHRcdCAqIGZyb20gZ2xvYmFsIHNjb3BlLlxuXHRcdCAqXG5cdFx0ICogQHJldHVyblx0e3ZvaWR9XG5cdFx0ICovXG5cdFx0X2V4cG9ydDogZnVuY3Rpb24gKCkge1xuXHRcdFx0d2luZG93LmxpZ2h0Y2FzZSA9IHt9O1xuXG5cdFx0XHQkLmVhY2goX3NlbGYsIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuXHRcdFx0XHRpZiAoX3NlbGYuX2lzUHVibGljTWV0aG9kKHByb3BlcnR5KSkge1xuXHRcdFx0XHRcdGxpZ2h0Y2FzZVtwcm9wZXJ0eV0gPSBfc2VsZltwcm9wZXJ0eV07XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHRfc2VsZi5fZXhwb3J0KCk7XG5cblx0JC5mbi5saWdodGNhc2UgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG5cdFx0Ly8gTWV0aG9kIGNhbGxpbmcgbG9naWMgKG9ubHkgcHVibGljIG1ldGhvZHMgYXJlIGFwcGxpZWQpXG5cdFx0aWYgKF9zZWxmLl9pc1B1YmxpY01ldGhvZChtZXRob2QpKSB7XG5cdFx0XHRyZXR1cm4gX3NlbGZbbWV0aG9kXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpIHtcblx0XHRcdHJldHVybiBfc2VsZi5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQuZXJyb3IoJ01ldGhvZCAnICsgbWV0aG9kICsgJyBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkubGlnaHRjYXNlJyk7XG5cdFx0fVxuXHR9O1xufSkoalF1ZXJ5KTtcbiJdfQ==
